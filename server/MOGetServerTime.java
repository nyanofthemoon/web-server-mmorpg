import java.io.*;import javax.servlet.*;import javax.servlet.http.*;import java.lang.String;import java.util.Date;public class MOGetServerTime extends HttpServlet { public void doPost(HttpServletRequest gstreq, HttpServletResponse gstres) throws ServletException, IOException {Date GetServerTimeRaw = new Date();int gsthour = GetServerTimeRaw.getHours();int gstmin = GetServerTimeRaw.getMinutes();int gstsec = GetServerTimeRaw.getSeconds();int gstmon = GetServerTimeRaw.getMonth();int gstday = GetServerTimeRaw.getDate();int gstyear = GetServerTimeRaw.getYear();String ServerTimeFileRaw[] = new String[ 7 ];int ServerTimeFileSize = 0;String ServerTimeFileNL;try { BufferedReader rwdtef = new BufferedReader(new FileReader("data/motime/" + gstmon + gstday + gstyear));while ((ServerTimeFileNL = rwdtef.readLine()) != null) {ServerTimeFileRaw[ServerTimeFileSize] = ServerTimeFileNL.toString();ServerTimeFileSize++;} rwdtef.close(); }catch ( IOException GetServerTimeFileExc ) { LogError( GetServerTimeFileExc.toString(), "MOGetServerTime-Couldn't Read Time File Infos" ); return; }try {gstres.setContentType("text/plain");OutputStream gstos = gstres.getOutputStream();gstos.write(("%" + gsthour + "%" +  gstmin + "%" + gstsec + "%" + ServerTimeFileRaw[0] + "%" + ServerTimeFileRaw[5]).getBytes());gstos.flush();gstos.close();}catch (Exception GetServerTimeExc) { LogError( GetServerTimeExc.toString(), "MOGetServerTime-Couldn't Send Time Infos" ); return; }                           return;}public void LogError( String plrerror, String myscrname ) throws IOException {String errorslog = "data/logs/Errors/";Date errosdte = new Date();int errmon = errosdte.getMonth();int errday = errosdte.getDate();int erryear = errosdte.getYear();int errhour = errosdte.getHours();int errmin = errosdte.getMinutes();int errsec = errosdte.getSeconds();errorslog = errorslog + erryear + "-" + errmon + "-" + errday + " at " + errhour + "H " + errmin + "M " + errsec + "S";PrintWriter errlogslog = new PrintWriter( new FileWriter(errorslog) );errlogslog.println( "<html><head></head><body bgcolor=black text=red><font size=-2 face=Verdana><center><br>Script Name: " + myscrname + "<br>Error: " + plrerror + "</font></center></body></html>");errlogslog.close();}// DoGet() Method Errorpublic void doGet(HttpServletRequest gstreqb, HttpServletResponse gstresb)throws IOException, ServletException{ gstresb.sendRedirect("http://localhost/inexistent.html"); return; }}