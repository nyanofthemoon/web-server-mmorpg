import java.io.*;import javax.servlet.*;import javax.servlet.http.*;import java.lang.String;import java.lang.Object;import java.util.Date;import java.util.StringTokenizer;public class MOCharOpts extends HttpServlet{ String MOChOptsDayState[] = {"Midnight", "Night", "Night", "Night", "Night", "Dawn", "Dawn", "Dawn", "Morning", "Morning", "Morning", "Morning", "Noon", "Day", "Day", "Day", "Day", "Dusk", "Dusk", "Evening", "Evening", "Evening", "Night", "Night"};String NoCacheHDS = "<META HTTP-EQUIV=\"PRAGMA\" CONTENT=\"NO-CACHE\">";String[] MOChOptsSepTime = new String [5];int hour = 0;int min = 0;int sec = 0;int mon = 0;int day = 0;int year = 0;int convertedtimetosec = 0;int convertedarrivaltimetosec = 0;String[] optlogsdatefle = new String [7];String MODayStateChOpt[] = {"Midnight", "Night", "Night", "Night", "Night", "Dawn", "Dawn", "Dawn", "Morning", "Morning", "Morning", "Morning", "Noon", "Day", "Day", "Day", "Day", "Dusk", "Dusk", "Evening", "Evening", "Evening", "Night", "Night"};  public void doPost (HttpServletRequest ptsreq, HttpServletResponse cpsres)    throws ServletException, IOException{String myaction = ptsreq.getParameter("action");String myoverride = ptsreq.getParameter("ova");String mycharacter = ptsreq.getParameter("character");String mybrowser = ptsreq.getParameter("mybrowser");String myplatform = ptsreq.getParameter("myplatform");String loginformat = ptsreq.getParameter("format");if (loginformat.equals("default")) {String rechoosecookie = "MOChar";Cookie[] remochoptcookiejar = ptsreq.getCookies();if ( remochoptcookiejar != null ) { } else { cpsres.sendRedirect("http://localhost/login.html"); return; }mycharacter = GetCookie( rechoosecookie, remochoptcookiejar );myaction = "choose";} else {}// MAIN - Get Cookies and Player File StatusString choosecookieb = "MOLogin";Cookie[] mochoptcookiejarb = ptsreq.getCookies();if ( mochoptcookiejarb != null ) { } else { cpsres.sendRedirect("http://localhost/genericerror.html"); return; }String mochoptsusername = GetCookie( choosecookieb, mochoptcookiejarb );String optsrdssfileb = "data/players/" + mochoptsusername;String[] rawmoncoptsfilearrayb = ReadFile( optsrdssfileb );// start h overrideif ( String.valueOf(myoverride).equals("h") ) {String nucharactertext = ptsreq.getParameter("text");String nucharacterbkgnd = ptsreq.getParameter("bkgnd");String nucharacterimg = ptsreq.getParameter("image");String nucharacterhist = ptsreq.getParameter("history");String choosecookie = "MOChar";Cookie[] mochoptcookiejar = ptsreq.getCookies();if ( mochoptcookiejar != null ) { } else { cpsres.sendRedirect("http://localhost/genericerror.html"); return; }String mochoptschname = GetCookie( choosecookie, mochoptcookiejar );String optsrdssfile = "data/characters/" + mochoptschname + "/status";String[] rawmoncoptsfilearrayz = ReadFile( optsrdssfile );if (nucharacterimg.equals("http://") || nucharacterimg.equals("")) { nucharacterimg = "http://localhost/Images/MOIcons/noimage.gif"; } else { }if (nucharactertext.equals("null")) { nucharactertext = ""; } else {}String chcharhistfile = "data/characters/" + mochoptschname + "/history";String redgnu = " ";if ( rawmoncoptsfilearrayb[2].equals("unregistered") ) { redgnu = "<br><center><img src=http://localhost/Images/unregisteredcharbanner.gif width=298 height=55 border=0></center>"; } else {}PrintWriter chcharhist = new PrintWriter( new FileWriter(chcharhistfile) );chcharhist.println( "<html><head><title>" + rawmoncoptsfilearrayz[0] + "</title></head><body bgcolor=" + nucharacterbkgnd + " text=" + nucharactertext + ">" + redgnu + "<br><font size=-2 face=Verdana><center>" + rawmoncoptsfilearrayz[0] + "<br>" + rawmoncoptsfilearrayz[1] + "<br><br><img src=" + nucharacterimg + " border=0></center><br><br>" +  nucharacterhist + "</font></body></html>***MOHISTORYEND***");chcharhist.close();cpsres.sendRedirect("http://localhost/relogin.html"); return;} else { }// end h overrideif ( myaction.equals("new") ) { if ( rawmoncoptsfilearrayb[2].equals("unregistered") ) { cpsres.sendRedirect("http://localhost/newcharacterunpaid.html"); return; } else { cpsres.sendRedirect("http://localhost/newcharacterpaid.html"); return; } } else { }if ( String.valueOf(mycharacter).equals("null") || String.valueOf(mycharacter).length() < 2) { cpsres.sendRedirect("http://localhost/nocharselected.html"); return; } else { }int chexlog = 4; String chexlogok = "no";while ( chexlog < 30 ) {if ( mycharacter.equals(rawmoncoptsfilearrayb[chexlog]) ) { if (mycharacter.equals("-= Empty Character Slot =-")) { } else { chexlogok = "yes"; } } else { }chexlog = chexlog + 1;}if (chexlogok.equals("no")) { cpsres.sendRedirect("http://localhost/genericerror.html"); return; } else { cpsres.addCookie(new Cookie("MOChar", mycharacter)); }if ( myaction.equals("hist") ) {if ( rawmoncoptsfilearrayb[2].equals("unregistered") ) { cpsres.sendRedirect("http://localhost/edithistoryunpaid.html"); return; } else { cpsres.sendRedirect("http://localhost/edithistorypaid.html"); return; }} else if ( myaction.equals("view") ) {String optlogviewstatus = "data/characters/" + mycharacter + "/status";String[] optlogviewstatusarray = ReadFile( optlogviewstatus );String optlogviewstats = "data/characters/" + mycharacter + "/stats";String[] optlogviewstatsarray = ReadFile( optlogviewstats );String optlogviewmoney = "data/characters/" + mycharacter + "/money";String[] optlogviewmoneyarray = ReadFile( optlogviewmoney );String trialvwstatus = "";String[] trialtokens = new String[9];if (optlogviewstatusarray[7].equals("Trial")) { optlogviewstatusarray[7] = "Undergoing Trial";StringTokenizer trialvwtiltok = new StringTokenizer(optlogviewstatusarray[21],"*",false);int trialsize = 0;while (trialvwtiltok.hasMoreTokens()) {trialtokens[trialsize] = trialvwtiltok.nextToken();trialsize = trialsize + 1;}trialvwstatus = "<b>Undergoing Trial Until</b>: </font><font size=\"-2\" face=\"Verdana\" color=\"yellow\"> Day " + trialtokens[1] + " of the year " + trialtokens[0] + " at " + MOChOptsDayState[Integer.parseInt(trialtokens[2])] + " - " + trialtokens[2]  + ":" + FixChMinutes(Integer.parseInt(trialtokens[3])) + ".</font>";} else {}String actionstatus = "";if (optlogviewstatusarray[16].equals("goto")) { actionstatus = "<b>Current Action</b>: Traveling to " + optlogviewstatusarray[15];} else if (optlogviewstatusarray[16].equals("travel")) { actionstatus = "<b>Current Action</b>: Traveling...";} else if (optlogviewstatusarray[16].equals("search")) { actionstatus = "<b>Current Action</b>: Searching...";} else if (optlogviewstatusarray[16].equals("rest")) { actionstatus = "<b>Current Action</b>: Resting...";} else if (optlogviewstatusarray[16].equals("dead")) { actionstatus = "<b>Current Action</b>: Dead...";} else if (optlogviewstatusarray[16].equals("recoverloot")) { actionstatus = "<b>Current Action</b>: Recovering a loot...";} else {}if (optlogviewstatusarray[8].equals(" ")) { optlogviewstatusarray[8] = "No Discipline"; } else {}if (optlogviewstatusarray[10].equals(" ")) { optlogviewstatusarray[10] = "Not part of an Alliance"; optlogviewstatusarray[11] = "Not part of an Alliance"; } else {}int vsccs = Integer.parseInt(optlogviewmoneyarray[0]) + Integer.parseInt(optlogviewmoneyarray[13]);int vsscs = Integer.parseInt(optlogviewmoneyarray[1]) + Integer.parseInt(optlogviewmoneyarray[14]);int vsgcs = Integer.parseInt(optlogviewmoneyarray[2]) + Integer.parseInt(optlogviewmoneyarray[15]);int vsopals = Integer.parseInt(optlogviewmoneyarray[3]) + Integer.parseInt(optlogviewmoneyarray[16]);int vstopazs = Integer.parseInt(optlogviewmoneyarray[4]) + Integer.parseInt(optlogviewmoneyarray[17]);int vslapiss = Integer.parseInt(optlogviewmoneyarray[5]) + Integer.parseInt(optlogviewmoneyarray[18]);int vsgarnets = Integer.parseInt(optlogviewmoneyarray[6]) + Integer.parseInt(optlogviewmoneyarray[19]);int vspearls = Integer.parseInt(optlogviewmoneyarray[7]) + Integer.parseInt(optlogviewmoneyarray[20]);int vssapphires = Integer.parseInt(optlogviewmoneyarray[8]) + Integer.parseInt(optlogviewmoneyarray[21]);int vsrubys = Integer.parseInt(optlogviewmoneyarray[9]) + Integer.parseInt(optlogviewmoneyarray[22]);int vsgems = Integer.parseInt(optlogviewmoneyarray[10]) + Integer.parseInt(optlogviewmoneyarray[23]);int vsemeralds = Integer.parseInt(optlogviewmoneyarray[11]) + Integer.parseInt(optlogviewmoneyarray[24]);int vsdiamonds = Integer.parseInt(optlogviewmoneyarray[12]) + Integer.parseInt(optlogviewmoneyarray[25]);int vsearnedmn = Integer.parseInt(optlogviewmoneyarray[0]) + (10 * Integer.parseInt(optlogviewmoneyarray[1])) + (100 * Integer.parseInt(optlogviewmoneyarray[2])) + (250 * Integer.parseInt(optlogviewmoneyarray[3])) + (500 * Integer.parseInt(optlogviewmoneyarray[4])) + (1000 * Integer.parseInt(optlogviewmoneyarray[5])) + (2500 * Integer.parseInt(optlogviewmoneyarray[6])) + (5000 * Integer.parseInt(optlogviewmoneyarray[7])) + (10000 * Integer.parseInt(optlogviewmoneyarray[8])) + (25000 * Integer.parseInt(optlogviewmoneyarray[9])) + (50000 * Integer.parseInt(optlogviewmoneyarray[10])) + (100000 * Integer.parseInt(optlogviewmoneyarray[11])) + (Integer.parseInt(optlogviewmoneyarray[12]) * 1000000);int vsreceivedmn = Integer.parseInt(optlogviewmoneyarray[13]) + (10 * Integer.parseInt(optlogviewmoneyarray[14])) + (100 * Integer.parseInt(optlogviewmoneyarray[15])) + (250 * Integer.parseInt(optlogviewmoneyarray[16])) + (500 * Integer.parseInt(optlogviewmoneyarray[17])) + (1000 * Integer.parseInt(optlogviewmoneyarray[18])) + (2500 * Integer.parseInt(optlogviewmoneyarray[19])) + (5000 * Integer.parseInt(optlogviewmoneyarray[20])) + (10000 * Integer.parseInt(optlogviewmoneyarray[21])) + (25000 * Integer.parseInt(optlogviewmoneyarray[22])) + (50000 * Integer.parseInt(optlogviewmoneyarray[23])) + (100000 * Integer.parseInt(optlogviewmoneyarray[24])) + (Integer.parseInt(optlogviewmoneyarray[25]) * 1000000);int totalvalueccs = vsearnedmn + vsreceivedmn;ServletOutputStream charoptsviewout = cpsres.getOutputStream();charoptsviewout.println("<html><head><title></title></head><body background=\"http://localhost/Images/mobkgnd.jpg\" text=\"white\" oncontextmenu=\"return false;\"><div align=\"center\"><img src=\"http://localhost/Images/viewcharactertitle.gif\" width=\"252\" height=\"34\" border=\"0\"><br><br><font size=\"-2\" face=\"Verdana\"><table border=\"0\" cellpadding=\"4\" cellspacing=\"0\">");charoptsviewout.println("<tr><td align=\"center\" rowspan=\"2\"><table border=\"0\" cellpadding=\"4\" cellspacing=\"0\"><tr><td bgcolor=\"black\" colspan=\"5\" align=\"center\"><font size=\"-2\" face=\"Verdana\">CHARACTER INFORMATION</font></td></tr><tr>");charoptsviewout.println("<td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Short Name</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatusarray[0] + "</font></td><td bgcolor=\"#222222\"><br></td>");charoptsviewout.println("<td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Race</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatusarray[2] + "</font></td></tr><tr>");charoptsviewout.println("<td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Full Name</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatusarray[1] + "</font></td><td bgcolor=\"#111111\"><br></td>");charoptsviewout.println("<td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Sex</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatusarray[3] + "</font></td></tr><tr>");charoptsviewout.println("<td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Title</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatusarray[7] + "</font></td><td bgcolor=\"#222222\"><br></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Fame</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\" color=\"#3366cc\">" + optlogviewstatusarray[9] + "</font></td></tr><tr>");charoptsviewout.println("<td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Discipline</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatusarray[8] + "</font></td><td bgcolor=\"#111111\"><br></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Next Title</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\" color=\"#ee0000\">" + "0" + "</font></td></tr><tr>");charoptsviewout.println("<td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Strength</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatusarray[4] + " %</font></td><td bgcolor=\"#222222\"><br></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Alliance</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatusarray[10] + "</font></td></tr><tr>");charoptsviewout.println("<td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Mind</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatusarray[5] + " %</font></td><td bgcolor=\"#111111\"><br></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Alliance Rank</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatusarray[11] + "</font></td></tr><tr>");charoptsviewout.println("<td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Skill</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatusarray[6] + " %</font></td><td bgcolor=\"#222222\"><br></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>UCR</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\" color=\"#cc9900\">" + "0" + "</font></td></tr><tr>");charoptsviewout.println("<td bgcolor=\"#111111\" colspan=\"5\" align=\"center\"><font size=\"-2\" face=\"Verdana\">" + actionstatus + "</td></tr><tr><td bgcolor=\"#111111\" colspan=\"5\" align=\"center\"><font size=\"-2\" face=\"Verdana\">" + trialvwstatus + "</td></tr></table></td><td align=\"center\" valign=\"middle\"><table border=\"0\" cellpadding=\"4\" cellspacing=\"0\"><tr><td bgcolor=\"black\" colspan=\"2\" align=\"center\"><font size=\"-2\" face=\"Verdana\">STRENGTH<br>( BASE / TOTAL )</font></td></tr><tr>");charoptsviewout.println("<td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Power</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[0] + " / " + optlogviewstatsarray[2] + "</font></td></tr><tr><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Might</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[3] + " / " + optlogviewstatsarray[5] + "</font></td></tr><tr><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Toughness</b>:</font></td>");charoptsviewout.println("<td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[6] + " / " + optlogviewstatsarray[8] + "</font></td></tr><tr><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Potential</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[9] + " / " + optlogviewstatsarray[11] + "</font></td></tr></table></td><td align=\"center\" valign=\"middle\"><table border=\"0\" cellpadding=\"4\" cellspacing=\"0\"><tr>");charoptsviewout.println("<td bgcolor=\"black\" colspan=\"2\" align=\"center\"><font size=\"-2\" face=\"Verdana\">MIND<br>( BASE / TOTAL )</font></td></tr><tr><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Awareness</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[12] + " / " + optlogviewstatsarray[14] + " </font></td></tr><tr><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Magic</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[15] + " / " + optlogviewstatsarray[17] + "</font></td></tr><tr>");charoptsviewout.println("<td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Focus</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[18] + " / " + optlogviewstatsarray[20] + "</font></td></tr><tr><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Potential</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[21] + " / " + optlogviewstatsarray[23] + "</font></td></tr></table></td></tr><tr><td align=\"center\" colspan=\"2\"><table border=\"0\" cellpadding=\"4\" cellspacing=\"0\"><tr><td bgcolor=\"black\" colspan=\"2\" align=\"center\"><font size=\"-2\" face=\"Verdana\">SKILL<br>");charoptsviewout.println("( BASE / TOTAL )</font></td></tr><tr><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Accuracy</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[24] + " / " + optlogviewstatsarray[26] + "</font></td></tr><tr><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Evasion</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[27] + " / " + optlogviewstatsarray[29] + "</font></td></tr><tr><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Agility</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[30] + " / " + optlogviewstatsarray[32] + "</font></td></tr><tr>");charoptsviewout.println("<td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Potential</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[33] + " / " + optlogviewstatsarray[35] + "</font></td></tr></table></td></tr></table><br><table border=\"0\" cellpadding=\"4\" cellspacing=\"0\"><tr><td align=\"center\" valign=\"top\"><table border=\"0\" cellpadding=\"4\" cellspacing=\"0\"><tr><td bgcolor=\"black\" colspan=\"2\" align=\"center\"><font size=\"-2\" face=\"Verdana\">ACTIVE STATS</font></td></tr><tr>");charoptsviewout.println("<td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Toughness</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[6] + " / </font><font size=\"-2\" face=\"Verdana\" color=\"#00bb00\"><b>" + optlogviewstatsarray[8] + "</b></font></td></tr><tr><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Magic</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[15] + " / </font><font size=\"-2\" face=\"Verdana\" color=\"#6633cc\"><b>" + optlogviewstatsarray[17] + "</b></font></td></tr><tr><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Morale</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[39] + " / </font><font size=\"-2\" face=\"Verdana\" color=\"#bb0000\"><b>" + optlogviewstatsarray[41] + "</b></font></td></tr><tr>");charoptsviewout.println("<td></td></tr></table><br><table border=\"0\" cellpadding=\"4\" cellspacing=\"0\"><tr><td bgcolor=\"black\" colspan=\"6\" align=\"center\"><font size=\"-2\" face=\"Verdana\">MONEY</font></td></tr><tr>");charoptsviewout.println("<td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Copper Coin</b>:</font></td><td bgcolor=\"#222222\" align=\"right\"><font size=\"-2\" face=\"Verdana\">" + vsccs + "</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Silver Coin</b>:</font></td><td bgcolor=\"#222222\" align=\"right\"><font size=\"-2\" face=\"Verdana\">" + vsscs + "</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Gold Coin</b>:</font></td><td bgcolor=\"#222222\" align=\"right\"><font size=\"-2\" face=\"Verdana\">" + vsgcs + "</font></td></tr><tr><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Opal</b>:</font></td><td bgcolor=\"#111111\" align=\"right\"><font size=\"-2\" face=\"Verdana\">" + vsopals + "</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Topaz</b>:</font></td><td bgcolor=\"#111111\" align=\"right\"><font size=\"-2\" face=\"Verdana\">" + vstopazs + "</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Lapis</b>:</font></td><td bgcolor=\"#111111\" align=\"right\"><font size=\"-2\" face=\"Verdana\">" + vslapiss + "</font></td></tr><tr>");charoptsviewout.println("<td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Garnet</b>:</font></td><td bgcolor=\"#222222\" align=\"right\"><font size=\"-2\" face=\"Verdana\">" + vsgarnets + "</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Pearl</b>:</font></td><td bgcolor=\"#222222\" align=\"right\"><font size=\"-2\" face=\"Verdana\">" + vspearls + "</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Sapphire</b>:</font></td><td bgcolor=\"#222222\" align=\"right\"><font size=\"-2\" face=\"Verdana\">" + vssapphires + "</font></td></tr><tr><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Ruby</b>:</font></td><td bgcolor=\"#111111\" align=\"right\"><font size=\"-2\" face=\"Verdana\">" + vsrubys + "</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Gem</b>:</font></td><td bgcolor=\"#111111\" align=\"right\"><font size=\"-2\" face=\"Verdana\">" + vsgems + "</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Emerald</b>:</font></td><td bgcolor=\"#111111\" align=\"right\"><font size=\"-2\" face=\"Verdana\">" + vsemeralds + "</font></td></tr><tr>");charoptsviewout.println("<td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Diamond</b>:</font></td><td bgcolor=\"#222222\" align=\"right\"><font size=\"-2\" face=\"Verdana\">" + vsdiamonds + "</font></td><td bgcolor=\"#222222\" colspan=\"4\"><font size=\"-2\" face=\"Verdana\"><b>Total Money in CCs</b>: " + totalvalueccs + "</font></td></tr><tr><td bgcolor=\"#111111\" colspan=\"6\"><font size=\"-2\" face=\"Verdana\"><b>Earned Money in CCs</b>: " + vsearnedmn + "</font></td></tr><tr><td bgcolor=\"#222222\" colspan=\"6\"><font size=\"-2\" face=\"Verdana\"><b>Received Money in CCs</b>: " + vsreceivedmn + "</font></td></tr></table></td><td align=\"center\" valign=\"top\">");charoptsviewout.println("<table border=\"0\" cellpadding=\"4\" cellspacing=\"0\"><tr><td bgcolor=\"black\" colspan=\"4\" align=\"center\"><font size=\"-2\" face=\"Verdana\">PASSIVE STATS</font></td></tr><tr><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Appearance</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[36] + "</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Technique</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[42] + "</font></td></tr><tr><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Travel Speed</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[45] + "</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Travel Type</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[43] + "</font></td></tr><tr>");charoptsviewout.println("<td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Body Absolute Wound Deflection</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[48] + "</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Body % Wound Deflection</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[50] + "</font></td></tr><tr><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Armor Absolute Wound Deflection</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + "0" + "</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Armor % Wound Deflection</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + "0" + "</font></td></tr><tr>");charoptsviewout.println("<td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Body Absolute Magic Deflection</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[54] + "</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Body % Magic Deflection</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[56] + "</font></td></tr><tr><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Armor Absolute Magic Deflection</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + "0" + "</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Armor % Magic Deflection</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + "0" + "</font></td></tr><tr><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Base Regeneration</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[52] + "</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Final Regeneration</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[53] + "</font></td></tr><tr>");charoptsviewout.println("<td bgcolor=\"#111111\" colspan=\"4\"><font size=\"-2\" face=\"Verdana\"><b>Material Resistance(s)</b>: " + optlogviewstatsarray[66] + "</font></td></tr><tr><td bgcolor=\"#222222\" colspan=\"4\"><font size=\"-2\" face=\"Verdana\"><b>Material Weakness(es)</b>: " + optlogviewstatsarray[67] + "</font></td></tr></table><br><table border=\"0\" cellpadding=\"4\" cellspacing=\"0\"><tr><td align=\"center\"><table border=\"0\" cellpadding=\"4\" cellspacing=\"0\"><tr><td bgcolor=\"black\" colspan=\"2\" align=\"center\"><font size=\"-2\" face=\"Verdana\">MAGIC RESISTANCES<br>( BASE / TOTAL )</font></td></tr><tr><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Air</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + "0" + "</font></td></tr><tr><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Darkness</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + "0" + "</font></td></tr><tr><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Death</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + "0" + "</font></td></tr><tr>");charoptsviewout.println("<td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Earth</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + "0" + "</font></td></tr><tr><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Fire</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + "0" + "</font></td></tr><tr><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Life</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + "0" + "</font></td></tr><tr><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Lightness</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + "0" + "</font></td></tr><tr><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Space</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + "0" + "</font></td></tr><tr><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Time</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + "0" + "</font></td></tr><tr><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Water</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + "0" + "</font></td>");charoptsviewout.println("</tr></table></td><td align=\"center\"><table border=\"0\" cellpadding=\"4\" cellspacing=\"0\"><tr><td bgcolor=\"black\" colspan=\"2\" align=\"center\"><font size=\"-2\" face=\"Verdana\">MAGIC WEAKNESSES<br>( BASE / TOTAL )</font></td></tr><tr><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Air</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + "0" + "</font></td></tr><tr><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Darkness</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + "0" + "</font></td></tr><tr><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Death</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + "0" + "</font></td></tr><tr><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Earth</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + "0" + "</font></td></tr><tr><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Fire</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + "0" + "</font></td></tr><tr><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Life</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + "0" + "</font>");charoptsviewout.println("</td></tr><tr><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Lightness</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + "0" + "</font></td></tr><tr><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Space</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + "0" + "</font></td></tr><tr><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Time</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + "0" + "</font></td></tr><tr><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Water</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + "0" + "</font></td></tr></table></td><td align=\"center\"><table border=\"0\" cellpadding=\"4\" cellspacing=\"0\"><tr><td bgcolor=\"black\" colspan=\"2\" align=\"center\"><font size=\"-2\" face=\"Verdana\">STATUSES</font></td></tr><tr><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Blinded</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[63] + "</font></td>");charoptsviewout.println("</tr><tr><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Paralyzed</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[62] + "</font></td></tr><tr><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Poisonned</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[61] + "</font></td></tr><tr><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\"><b>Sluggish</b>:</font></td><td bgcolor=\"#111111\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[64] + "</font></td></tr><tr><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\"><b>Tired</b>:</font></td><td bgcolor=\"#222222\"><font size=\"-2\" face=\"Verdana\">" + optlogviewstatsarray[60] + "</font></td></tr></table></td></tr></table><br><br><table border=0 cellpadding=5 cellspacing=0 bgcolor=black><tr><td><form name=COS action=http://localhost/servlet/MOLogin method=post target=_self><input src=http://localhost/Images/submit_choptionsscreen.gif width=211 height=19 border=0 type=image name=COS><input type=hidden value=default name=format><input type=hidden value=defaulttype name=password><input type=hidden value=defaulttype name=ova><input type=hidden value=" + mybrowser + " name=mybrowser><input type=hidden value=" + myplatform + " name=myplatform></td></tr></form></table></td></tr></table><br></font></div></body></html>");charoptsviewout.close();return;} else if ( myaction.equals("del") ) {int delplycurrentslot = 5;boolean ischardelete = rawmoncoptsfilearrayb[delplycurrentslot].equals(mycharacter);while ( delplycurrentslot < 30 && ischardelete == false ) {delplycurrentslot = delplycurrentslot + 1; ischardelete = rawmoncoptsfilearrayb[delplycurrentslot].equals(mycharacter);}PrintWriter nudelplyfileout = new PrintWriter( new FileWriter(optsrdssfileb) );nudelplyfileout.println( rawmoncoptsfilearrayb[0] );nudelplyfileout.println( rawmoncoptsfilearrayb[1] );nudelplyfileout.println( rawmoncoptsfilearrayb[2] );nudelplyfileout.println( rawmoncoptsfilearrayb[3] );nudelplyfileout.println( rawmoncoptsfilearrayb[4] );int delchkslot = 5;boolean deletableslot = delplycurrentslot == delchkslot;while ( delchkslot < 30 ) { if (deletableslot == false) { nudelplyfileout.println( rawmoncoptsfilearrayb[delchkslot] ); } else { nudelplyfileout.println("-= Empty Character Slot =-"); }delchkslot = delchkslot + 1;deletableslot = delplycurrentslot == delchkslot;}nudelplyfileout.println( rawmoncoptsfilearrayb[30] );nudelplyfileout.println( rawmoncoptsfilearrayb[31] );nudelplyfileout.println( rawmoncoptsfilearrayb[32] );nudelplyfileout.println( rawmoncoptsfilearrayb[33] );nudelplyfileout.println( rawmoncoptsfilearrayb[34] );nudelplyfileout.println( rawmoncoptsfilearrayb[35] );nudelplyfileout.close();File chdirdel = new File ("data/characters/" + mycharacter);emptyDir( chdirdel );chdirdel.delete();LogDeletion(mochoptsusername, mycharacter);cpsres.sendRedirect("http://localhost/relogin.html"); return;} else if ( myaction.equals("choose") ) {String[] optlogstatusarray = new String [40];String[] optlogstatsarray = new String [50];String[] optlogslocationarray = new String [20];String optstrialdisp = "";String falserace = "";String bordercolor = "";String bkgndeffect = "";String registeredstusnfo = " ";String locationbkgnd = "mobkgnd.jpg";String locendingname = "";Date newlogtoday = new Date();hour = newlogtoday.getHours();min = newlogtoday.getMinutes();sec = newlogtoday.getSeconds();mon = newlogtoday.getMonth();day = newlogtoday.getDate();year = newlogtoday.getYear();String optlogstatus = "data/characters/" + mycharacter + "/status";optlogstatusarray = ReadFile( optlogstatus );String optlogstats = "data/characters/" + mycharacter + "/stats";optlogstatsarray = ReadFile( optlogstats );String optloglocation = "data/locations/" + optlogstatusarray[12] + "/" + optlogstatusarray[13] + "/" + optlogstatusarray[14];optlogslocationarray = ReadFile( optloglocation );String rawopsdatefile = "data/motime/" + mon + day + year;optlogsdatefle = ReadFile( rawopsdatefile );// START CHECK IF ACTION ENDEDboolean mustwait = false;StringTokenizer waitstkn = new StringTokenizer(optlogstatusarray[16],"*",false);int mywaitsize = 0;String[] mywait = new String [5];while (waitstkn.hasMoreTokens()) {mywait[mywaitsize] = waitstkn.nextToken();mywaitsize = mywaitsize + 1;}if (mywait[0].equals("search") || mywait[0].equals("goto") || mywait[0].equals("travel") || mywait[0].equals("dead") || mywait[0].equals("rest") || mywait[0].equals("loot")) {TimeSeparator(optlogstatusarray[18]);if (Integer.parseInt(MOChOptsSepTime[0]) < Integer.parseInt(optlogsdatefle[0])) {//&endsearching; &loginsearch; ARRIVAL YEAR SMALLER THAN CURRENT YEARif (mywait[0].equals("rest") && Integer.parseInt(mywait[1]) == 25) {int restoaddmag = (int) ((double)(Integer.parseInt(mywait[2])) * (2));optlogstatsarray[6] = optlogstatsarray[8];optlogstatsarray[15] = (new Integer(Integer.parseInt(optlogstatsarray[15]) + restoaddmag)).toString();optlogstatsarray[39] = (new Integer(Integer.parseInt(optlogstatsarray[39]) + Integer.parseInt(mywait[2]))).toString();int endwaitoptsize = 0;if ( Integer.parseInt(optlogstatsarray[6]) > Integer.parseInt(optlogstatsarray[8])) { optlogstatsarray[6] = optlogstatsarray[8]; } else {}if ( Integer.parseInt(optlogstatsarray[15]) > Integer.parseInt(optlogstatsarray[17])) { optlogstatsarray[15] = optlogstatsarray[17]; } else {}if ( Integer.parseInt(optlogstatsarray[39]) > Integer.parseInt(optlogstatsarray[41])) { optlogstatsarray[39] = optlogstatsarray[41]; } else {}PrintWriter endwaitopts = new PrintWriter( new FileWriter(optlogstats) );while (endwaitoptsize < 68) {endwaitopts.println( optlogstatsarray[endwaitoptsize] );endwaitoptsize = endwaitoptsize + 1;}endwaitopts.close();} else if (mywait[0].equals("rest")) {// Toughness 6 = low 8 = max optlogstats[] // Magic 15 = low 17 = max optlogstats[] // Morale 39 = low 41 = max optlogstats[]optlogstatsarray[6] = (new Integer(Integer.parseInt(optlogstatsarray[6]) + (2*Integer.parseInt(mywait[1])))).toString();optlogstatsarray[15] = (new Integer(Integer.parseInt(optlogstatsarray[15]) + (3*Integer.parseInt(mywait[1])))).toString();optlogstatsarray[39] = (new Integer(Integer.parseInt(optlogstatsarray[39]) + Integer.parseInt(mywait[1]))).toString();if ( Integer.parseInt(optlogstatsarray[6]) > Integer.parseInt(optlogstatsarray[8])) { optlogstatsarray[6] = optlogstatsarray[8]; } else {}if ( Integer.parseInt(optlogstatsarray[15]) > Integer.parseInt(optlogstatsarray[17])) { optlogstatsarray[15] = optlogstatsarray[17]; } else {}if ( Integer.parseInt(optlogstatsarray[39]) > Integer.parseInt(optlogstatsarray[41])) { optlogstatsarray[39] = optlogstatsarray[41]; } else {}int endwaitoptsize = 0;PrintWriter endwaitopts = new PrintWriter( new FileWriter(optlogstats) );while (endwaitoptsize < optlogstatsarray.length) {endwaitopts.println( optlogstatsarray[endwaitoptsize] );endwaitoptsize = endwaitoptsize + 1;}endwaitopts.close();} else {}} else if (Integer.parseInt(MOChOptsSepTime[0]) == Integer.parseInt(optlogsdatefle[0])) {if (convertedarrivaltimetosec <= convertedtimetosec) {//&endsearching; &loginsearch; ARRIVAL YEAR EQUAL THAN CURRENT YEAR");if (mywait[0].equals("rest") && Integer.parseInt(mywait[1]) == 25) {int restoaddmag = (int) ((double)(Integer.parseInt(mywait[2])) * (2));optlogstatsarray[6] = optlogstatsarray[8];optlogstatsarray[15] = (new Integer(Integer.parseInt(optlogstatsarray[15]) + restoaddmag)).toString();optlogstatsarray[39] = (new Integer(Integer.parseInt(optlogstatsarray[39]) + Integer.parseInt(mywait[2]))).toString();int endwaitoptsize = 0;if ( Integer.parseInt(optlogstatsarray[6]) > Integer.parseInt(optlogstatsarray[8])) { optlogstatsarray[6] = optlogstatsarray[8]; } else {}if ( Integer.parseInt(optlogstatsarray[15]) > Integer.parseInt(optlogstatsarray[17])) { optlogstatsarray[15] = optlogstatsarray[17]; } else {}if ( Integer.parseInt(optlogstatsarray[39]) > Integer.parseInt(optlogstatsarray[41])) { optlogstatsarray[39] = optlogstatsarray[41]; } else {}PrintWriter endwaitopts = new PrintWriter( new FileWriter(optlogstats) );while (endwaitoptsize < 68) {endwaitopts.println( optlogstatsarray[endwaitoptsize] );endwaitoptsize = endwaitoptsize + 1;}endwaitopts.close();} else if (mywait[0].equals("rest")) {// Toughness 6 = low 8 = max optlogstats[] // Magic 15 = low 17 = max optlogstats[] // Morale 39 = low 41 = max optlogstats[]int endwaitoptsize = 0;optlogstatsarray[6] = (new Integer(Integer.parseInt(optlogstatsarray[6]) + (2*Integer.parseInt(mywait[1])))).toString();optlogstatsarray[15] = (new Integer(Integer.parseInt(optlogstatsarray[15]) + (3*Integer.parseInt(mywait[1])))).toString();optlogstatsarray[39] = (new Integer(Integer.parseInt(optlogstatsarray[39]) + Integer.parseInt(mywait[1]))).toString();if ( Integer.parseInt(optlogstatsarray[6]) > Integer.parseInt(optlogstatsarray[8])) { optlogstatsarray[6] = optlogstatsarray[8]; } else {}if ( Integer.parseInt(optlogstatsarray[15]) > Integer.parseInt(optlogstatsarray[17])) { optlogstatsarray[15] = optlogstatsarray[17]; } else {}if ( Integer.parseInt(optlogstatsarray[39]) > Integer.parseInt(optlogstatsarray[41])) { optlogstatsarray[39] = optlogstatsarray[41]; } else {}PrintWriter endwaitopts = new PrintWriter( new FileWriter(optlogstats) );while (endwaitoptsize < 68) {endwaitopts.println( optlogstatsarray[endwaitoptsize] );endwaitoptsize = endwaitoptsize + 1;}endwaitopts.close();} else {}} else { mustwait = true; } } else { mustwait = true; } } else {}if ( mustwait == true ) {String waitingimage;boolean cantcancel = false;if (mywait[0].equals("search") || mywait[0].equals("loot")) { waitingimage = "youaresearching.gif";} else if (mywait[0].equals("goto")) { waitingimage = "youaretraveling.gif"; cantcancel = true;} else if (mywait[0].equals("travel")) { waitingimage = "youaretraveling.gif";} else if (mywait[0].equals("rest")) { waitingimage = "youareresting.gif";} else { waitingimage = "youaredead.gif"; cantcancel = true; }ServletOutputStream charoptsoutWAIT = cpsres.getOutputStream();charoptsoutWAIT.println("<html><head><title>Waiting</title></head><body text=white background=http://localhost/Images/mobkgnd.jpg oncontextmenu=\"return false;\">" + "<div align=center><br><img src=http://localhost/Images/" + waitingimage + " border=0><br><br><img src=http://localhost/Images/wait.gif border=0><br><br><table border=0 cellpadding=4 cellspacing=0 bgcolor=#101010><tr><td><font size=-2 face=Verdana>Ends on:</font></td>");charoptsoutWAIT.println("<td><font size=-2 face=Verdana>" + MOChOptsSepTime[2] + ":" + FixMinutes(Integer.parseInt(MOChOptsSepTime[3])) + " - " + MODayStateChOpt[Integer.parseInt(MOChOptsSepTime[2])] + ", on day " + MOChOptsSepTime[1] + " of the year " + MOChOptsSepTime[0] + ".</font></td></tr><tr><td bgcolor=black><font size=-2 face=Verdana>Current Time:</font></td><td bgcolor=black><applet code=MOTime.class width=375 height=17 codebase=http://localhost/Applets/" + mybrowser + "><param name=year value=" + MOChOptsSepTime[0] + "><param name=day value=" + optlogsdatefle[5] + "><param name=hour value=" + hour + "><param name=minute value=" + min + "><param name=second value=" + sec + "></applet></td></tr></table><br><br><table border=0 cellpadding=4 cellspacing=0><tr><td bgcolor=black align=center><form name=\"Relogin\" action=\"http://localhost/servlet/MOCharOpts\" method=\"post\" target=\"_self\"><input src=http://localhost/Images/submit_characterrelogin.gif width=148 height=18 border=0 type=image name=Relogin><input type=\"hidden\" value=\"\" name=\"ova\"><input type=\"hidden\" value=\"default\" name=\"format\"><input type=\"hidden\" value=" + mybrowser + " name=\"mybrowser\"><input type=\"hidden\" value=" + myplatform + " name=\"myplatform\"></td></form></tr><tr><td bgcolor=black align=center><form name=\"COS\" action=\"http://localhost/servlet/MOLogin\" method=\"post\" target=\"_self\">");charoptsoutWAIT.println("<input src=http://localhost/Images/submit_choptionsscreen.gif width=211 height=19 border=0 type=image name=COS><input type=hidden value=defaulttype name=password><input type=hidden value=defaulttype name=ova><input type=hidden value=default name=format><input type=hidden value=" + mybrowser + " name=mybrowser><input type=hidden value=" + myplatform + " name=myplatform></td></form></tr><tr>");if (cantcancel == false) { charoptsoutWAIT.println("<td bgcolor=black align=center><form name=StopAct action=http://localhost/servlet/MOStopActivity method=post target=MOStopped><input type=hidden value=stop name=stop><input src=http://localhost/Images/submit_stopactivity.gif type=image name=StopAct></td></form>");  } else {}charoptsoutWAIT.println("</tr></table><br><br><br><a href=javascript:self.close()><img src=http://localhost/Images/closewindow.gif border=0></a></div></body></html>");charoptsoutWAIT.close();return;} else {// START CHECK IF TRIAL ENDEDif (optlogstatusarray[7].equals("Trial")) {TimeSeparator(optlogstatusarray[21]);if (Integer.parseInt(MOChOptsSepTime[0]) < Integer.parseInt(optlogsdatefle[0])) {//&endTrial; ARRIVAL YEAR SMALLER THAN CURRENT YEAR} else if (Integer.parseInt(MOChOptsSepTime[0]) == Integer.parseInt(optlogsdatefle[0])) {if (convertedarrivaltimetosec <= convertedtimetosec) {//&endTrial; ARRIVAL YEAR EQUAL THAN CURRENT YEAR"); } else {}} else {}} else {}// END CHECK IF TRIAL ENDED}// END CHECK IF ACTION ENDEDif (optlogstatusarray[7].equals("Trial") || optlogstatusarray[7].equals("Outsider") || optlogstatusarray[7].equals("Peasant") || optlogstatusarray[7].equals("Citizen") || optlogstatusarray[7].equals("Beginner") || optlogstatusarray[7].equals("Apprentice") || optlogstatusarray[7].equals("Novice") || optlogstatusarray[7].equals("Traveller") || optlogstatusarray[7].equals("Explorer") || optlogstatusarray[7].equals("Adventurer") || optlogstatusarray[7].equals("Professional") || optlogstatusarray[7].equals("Specialist") || optlogstatusarray[7].equals("Expert") || optlogstatusarray[7].equals("Champion") || optlogstatusarray[7].equals("Master") || optlogstatusarray[7].equals("Prodigy") || optlogstatusarray[7].equals("Idol") || optlogstatusarray[7].equals("Hero") || optlogstatusarray[7].equals("Legend") || optlogstatusarray[7].equals("Staff")) { } else { LogError( optlogstatusarray[7], "MOCharOpts-Incoherent Character Title" ); throw new IOException( "<html><head><title></title></head><body bgcolor=\"#000000\" text=\"#000000\" alink=\"#ce9c00\" vlink=\"#ce9c00\" link=\"#dcd816\"><div align=\"center\"><br><img src=\"http://localhost/Images/error.gif\" width=\"36\" height=\"42\" border=\"0\"><br><br><br><font size=\"-2\" face=\"Verdana\" color=\"#FFFFFF\">Error 206 - " + optlogstatusarray[7] + ".<br><br>Please report this error to us right away.<br><br><b>Specify your configuration and your username</b>.</font></div></body></html>" ); }if (optlogstatusarray[7].equals("Trial")) { optstrialdisp = " undergoing the Trial"; } else { }if (optlogstatusarray[2].equals("vampire") || optlogstatusarray[2].equals("archpire")) { falserace = "human"; } else { falserace = optlogstatusarray[2]; }if (optlogslocationarray[2].equals("c")) { bordercolor = "#ee0000";} else if (optlogslocationarray[2].equals("n")) { bordercolor = "#000000";} else if (optlogslocationarray[2].equals("h")) { bordercolor = "#777777";} else if (optlogslocationarray[2].equals("hf")) { bordercolor = "#777777"; bkgndeffect = "asnow.gif";} else if (optlogslocationarray[2].equals("cf")) { bordercolor = "#ee0000"; bkgndeffect = "asnow.gif";} else if (optlogslocationarray[2].equals("l")) { bordercolor = "#ffcc00";} else if (optlogslocationarray[2].equals("a")) { bordercolor = "#ffffff";} else if (optlogslocationarray[2].equals("d")) { bordercolor = "#ff6600";} else if (optlogslocationarray[2].equals("t")) { bordercolor = "#663300";} else if (optlogslocationarray[2].equals("m")) { bordercolor = "#660099";} else if (optlogslocationarray[2].equals("f")) { bordercolor = "#0000FF"; bkgndeffect = "asnow.gif";} else if (optlogslocationarray[2].equals("mc")) { bordercolor = "#cc0066";} else if (optlogslocationarray[2].equals("hr")) { bkgndeffect = "rain"; bordercolor = "#777777";} else if (optlogslocationarray[2].equals("cr")) { bkgndeffect = "rain"; bordercolor = "#ee0000";} else if (optlogslocationarray[2].equals("lr")) { bkgndeffect = "rain"; bordercolor = "#ffcc00";} else if (optlogslocationarray[2].equals("ar")) { bkgndeffect = "rain"; bordercolor = "#ffffff";} else if (optlogslocationarray[2].equals("dr")) { bkgndeffect = "rain"; bordercolor = "#ff6600";} else if (optlogslocationarray[2].equals("tr")) { bkgndeffect = "rain"; bordercolor = "#663300";} else if (optlogslocationarray[2].equals("mr")) { bkgndeffect = "rain"; bordercolor = "#660099";} else if (optlogslocationarray[2].equals("fr")) { bkgndeffect = "rain"; bordercolor = "#0000FF";} else if (optlogslocationarray[2].equals("mcr")) { bkgndeffect = "rain"; bordercolor = "#cc0066";} else if (optlogslocationarray[2].equals("r")) { bkgndeffect = "rain"; bordercolor = "#000000";} else { LogError( optlogslocationarray[0] + " " + optlogslocationarray[2], "MOCharOpts-Incoherent Location File Type" ); throw new IOException( "<html><head><title></title></head><body bgcolor=\"#000000\" text=\"#000000\" alink=\"#ce9c00\" vlink=\"#ce9c00\" link=\"#dcd816\"><div align=\"center\"><br><img src=\"http://localhost/Images/error.gif\" width=\"36\" height=\"42\" border=\"0\"><br><br><br><font size=\"-2\" face=\"Verdana\" color=\"#FFFFFF\">Error 205 - " + optlogslocationarray[2] + ".<br><br>Please report this error to us right away.<br><br><b>Specify your configuration and your username</b>.</font></div></body></html>" ); }if (optlogstatusarray[15].equals("Market")) { locationbkgnd = "bkgndmarket.gif";} else if (optlogstatusarray[15].equals("Town Hall")) { locationbkgnd = "bkgndtownhall.gif";} else if (optlogstatusarray[15].equals("Tavern")) { locationbkgnd = "bkgndtavern.gif";} else if (optlogstatusarray[15].equals("Black Market")) { locationbkgnd = "bkgndblackmarket.gif";} else if (optlogstatusarray[15].equals("Hall of Honors")) { locationbkgnd = "bkgndhallhonors.gif";} else if (optlogstatusarray[15].equals("Hall of Glories")) { locationbkgnd = "bkgndhallofglories.gif";} else if (optlogstatusarray[15].equals("Inn")) { locationbkgnd = "bkgndinn.gif";} else if (optlogstatusarray[15].equals("Library")) { locationbkgnd = "bkgndlibrary.gif";} else if (optlogstatusarray[15].equals("Messagery")) { locationbkgnd = "bkgndinn.gif";} else if (optlogstatusarray[15].equals("Temple")) { locationbkgnd = "bkgndtemple.gif";} else if (optlogstatusarray[15].equals("Guards Quarters")) { locationbkgnd = "bkgndguardsquarters.gif";} else if (optlogstatusarray[15].equals("Guilds Quarters")) { locationbkgnd = "bkgndinn.gif";} else if (optlogstatusarray[15].equals("Palisade")) { locationbkgnd = "bkgndpalisade.gif";} else if (optlogstatusarray[15].equals("Alchemist Tower")) { locationbkgnd = "bkgndalchemiststower.gif";} else if (optlogstatusarray[15].equals("Arena")) { locationbkgnd = "bkgndarena.gif";} else if (optlogstatusarray[15].equals("Circle of Chaos")) { locationbkgnd = "bkgndcastle.gif";} else if (optlogstatusarray[15].equals("Academy")) { locationbkgnd = "bkgndtraining.gif";} else if (optlogstatusarray[15].equals("Training Grounds")) { locationbkgnd = "bkgndtraining.gif";} else if (optlogstatusarray[15].equals("Elders Council")) { locationbkgnd = "bkgndtemple.gif";} else {if (optlogslocationarray[1].equals("wood")) { bkgndeffect = "aleafs.gif"; locationbkgnd = "bkgndforest.gif";} else if (optlogslocationarray[1].equals("forest")) { bkgndeffect = "aleafs.gif"; locationbkgnd = "bkgndforest.gif";} else if (optlogslocationarray[1].equals("rainforest")) { bkgndeffect = "aleafs.gif"; locationbkgnd = "bkgndforest.gif";} else if (optlogslocationarray[1].equals("hill")) { locationbkgnd = "bkgndgrass.gif";} else if (optlogslocationarray[1].equals("valley")) { locationbkgnd = "bkgndgrass.gif";} else if (optlogslocationarray[1].equals("promenade")) { locationbkgnd = "bkgndpromenade.gif";} else if (optlogslocationarray[1].equals("shire")) { locationbkgnd = "bkgndgrass.gif";} else if (optlogslocationarray[1].equals("meadow")) { locationbkgnd = "bkgndmeadow.gif";} else if (optlogslocationarray[1].equals("field")) { locationbkgnd = "bkgndgrass.gif";} else if (optlogslocationarray[1].equals("plain")) { locationbkgnd = "bkgndgrass.gif";} else if (optlogslocationarray[1].equals("territory")) { locationbkgnd = "bkgndgrass.gif";} else if (optlogslocationarray[1].equals("desert")) { locationbkgnd = "bkgnddesert.gif";} else if (optlogslocationarray[1].equals("oasis")) { locationbkgnd = "bkgnddesert.gif";} else if (optlogslocationarray[1].equals("pond")) { locationbkgnd = "bkgndlightsea.gif";} else if (optlogslocationarray[1].equals("lake")) { locationbkgnd = "bkgndlightsea.gif";} else if (optlogslocationarray[1].equals("river")) { locationbkgnd = "bkgndlightsea.gif";} else if (optlogslocationarray[1].equals("fall")) { locationbkgnd = "bkgndlightsea.gif";} else if (optlogslocationarray[1].equals("sea")) { locationbkgnd = "bkgnddeepsea.gif";} else if (optlogslocationarray[1].equals("port")) { locationbkgnd = "bkgnddeepsea.gif";} else if (optlogslocationarray[1].equals("island")) { locationbkgnd = "bkgnddeepsea.gif";} else if (optlogslocationarray[1].equals("archipelago")) { locationbkgnd = "bkgnddeepsea.gif";} else if (optlogslocationarray[1].equals("peninsula")) { locationbkgnd = "bkgnddeepsea.gif";} else if (optlogslocationarray[1].equals("smallcaves")) { locationbkgnd = "bkgndcave.gif";} else if (optlogslocationarray[1].equals("largecave")) { locationbkgnd = "bkgndcave.gif";} else if (optlogslocationarray[1].equals("gazo")) { locationbkgnd = "bkgndcave.gif";} else if (optlogslocationarray[1].equals("cliff")) { locationbkgnd = "bkgndstones.gif";} else if (optlogslocationarray[1].equals("canyon")) { locationbkgnd = "bkgndstones.gif";} else if (optlogslocationarray[1].equals("volcano")) { locationbkgnd = "bkgndstones.gif";} else if (optlogslocationarray[1].equals("crossroad")) { locationbkgnd = "bkgndstones.gif";} else if (optlogslocationarray[1].equals("crater")) { locationbkgnd = "bkgndstones.gif";} else if (optlogslocationarray[1].equals("mount")) { locationbkgnd = "bkgndstones.gif";} else if (optlogslocationarray[1].equals("mountain")) { locationbkgnd = "bkgndstones.gif";} else if (optlogslocationarray[1].equals("plateau")) { locationbkgnd = "bkgndstones.gif";} else if (optlogslocationarray[1].equals("quarry")) { locationbkgnd = "bkgndstones.gif";} else if (optlogslocationarray[1].equals("ruins")) { locationbkgnd = "bkgndstones.gif";} else if (optlogslocationarray[1].equals("pass")) { locationbkgnd = "bkgndstones.gif";} else if (optlogslocationarray[1].equals("crescent")) { locationbkgnd = "bkgndcrescent.gif";} else if (optlogslocationarray[1].equals("snowfield")) { locationbkgnd = "bkgndsnow.gif";} else if (optlogslocationarray[1].equals("town")) { locationbkgnd = "bkgndtown.gif";} else if (optlogslocationarray[1].equals("city")) { locationbkgnd = "bkgndtown.gif";} else if (optlogslocationarray[1].equals("village")) { locationbkgnd = "bkgndvillage.gif";} else if (optlogslocationarray[1].equals("citadel")) { locationbkgnd = "bkgndcitadel.gif";} else if (optlogslocationarray[1].equals("castle")) { locationbkgnd = "bkgndcastle.gif";} else if (optlogslocationarray[1].equals("library")) { locationbkgnd = "bkgndlibrary.gif";} else if (optlogslocationarray[1].equals("citadel")) { locationbkgnd = "bkgndtown.gif";} else if (optlogslocationarray[1].equals("inn")) { locationbkgnd = "bkgndinn.gif";} else if (optlogslocationarray[1].equals("nest")) { locationbkgnd = "bkgndnest.gif";} else if (optlogslocationarray[1].equals("mill")) { locationbkgnd = "bkgndmill.gif";} else if (optlogslocationarray[1].equals("cemetary")) { locationbkgnd = "bkgndcemetary.gif";} else if (optlogslocationarray[1].equals("swamp")) { locationbkgnd = "bkgndswamp.gif";} else if (optlogslocationarray[1].equals("tavern")) { locationbkgnd = "bkgndtavern.gif";} else if (optlogslocationarray[1].equals("temple")) { locationbkgnd = "bkgndtemple.gif";} else if (optlogslocationarray[1].equals("fair")) { locationbkgnd = "bkgndfoodmarket.gif";} else { }}ServletOutputStream charoptsout = cpsres.getOutputStream();charoptsout.println("<html><head><title></title>" + NoCacheHDS + "<SCRIPT LANGUAGE=\"JavaScript\">function OpenMOWindow(mohtml, mopage) {window.open( mohtml, mopage, \"toolbar=no,location=no,directories=no,status=no,menubar=no,scrolling=auto,scrollbars=yes,scrollbar=yes,resizable=yes,width=800,height=600\" );}</SCRIPT>" + "</head>");charoptsout.println("<body background=\"http://localhost/Images/" + locationbkgnd + "\" link=\"" + bordercolor + "\" alink=\"" + bordercolor + "\" vlink=\"" + bordercolor + "\" leftmargin=\"0\" marginwidth=\"0\" topmargin=\"0\" marginheight=\"0\" oncontextmenu=\"return false;\"><SCRIPT TYPE=text/javascript>window.name=\"PlayFrame\"</SCRIPT>");if ( rawmoncoptsfilearrayb[2].equals("unregistered") ) { registeredstusnfo = "  <Unregistered Character>"; charoptsout.println("<br><center><a href=\"http://localhost/register.html\" target=\"_blank\"><img src=\"http://ocalhost/Images/registermo.gif\" width=\"307\" height=\"65\" border=\"0\"></a></center>"); } else { }charoptsout.println("<div align=\"center\">");if (mybrowser.equals("NS4")) {charoptsout.println("<applet code=\"MOTime.class\" width=\"375\" height=\"17\" codebase=\"http://localhost/Applets\"><param name=\"year\" value=" + optlogsdatefle[0] + "><param name=\"day\" value=" + optlogsdatefle[5] + "><param name=\"hour\" value=" + hour + "><param name=\"minute\" value=" + min + "><param name=\"second\" value=" + sec + "></applet><br>");charoptsout.println("<layer id=\"MOSDisplay\"></layer><br><br><br>");} else if (mybrowser.equals("NS6")) {charoptsout.println("<applet code=\"MOTime.class\" width=\"375\" height=\"17\" codebase=\"http://localhost/Applets\"><param name=\"year\" value=\"" + optlogsdatefle[0]+ "\"><param name=\"day\" value=\"" + optlogsdatefle[5] + "\"><param name=\"hour\" value=\"" + hour + "\"><param name=\"minute\" value=\"" + min + "\"><param name=\"second\" value=\"" + sec + "\"></applet><br>");charoptsout.println("<span id=\"MOSDisplay\"></span>");} else {charoptsout.println("<applet code=\"MOTime.class\" width=\"375\" height=\"17\" codebase=\"http://localhost/Applets\"><param name=\"year\" value=\"" + optlogsdatefle[0]+ "\"><param name=\"day\" value=\"" + optlogsdatefle[5] + "\"><param name=\"hour\" value=\"" + hour + "\"><param name=\"minute\" value=\"" + min + "\"><param name=\"second\" value=\"" + sec + "\"></applet><br>");charoptsout.println("<span id=\"MOSDisplay\"></span>");}charoptsout.println("<script language=\"JavaScript1.2\">");charoptsout.println("function MOSUpdate() {");charoptsout.println("var myres; var mymaxres; var mymag; var mymaxmag; var mymor; var mymaxmor; var mymoney; var myfame;");if (mybrowser.equals("NS4")) {charoptsout.println("myres = document.MOMain.res; mymaxres = document.MOMain.maxres; mymag = document.MOMain.mag; mymaxmag = document.MOMain.maxmag; mymor = document.MOMain.mor; mymaxmor = document.MOMain.maxmor; myfame = document.MOMain.fame; mymoney = document.MOMain.money;");charoptsout.println("if (myres == null) { myres = \"loading...\"; } else {} if (mymaxres == null) { mymaxres = \"loading...\"; } else {} if (mymag == null) { mymag = \"loading...\"; } else {} if (mymaxmag == null) { mymaxmag = \"loading...\"; } else {} if (mymor == null) { mymor = \"loading...\"; } else {} if (mymaxmor == null) { mymaxmor = \"loading...\"; } else {} if (myfame == null) { myfame = \"loading...\"; } else {} if (mymoney == null) { mymoney = \"loading...\"; } else {}");charoptsout.println("document.MOSDisplay.document.write( '<center><table border=\"0\" cellpadding=\"4\" cellspacing=\"1\" width=\"75%\" bgcolor=\"black\"><tr><td><font color=\"white\" size=\"-2\" face=\"Verdana\">Toughness: ' + myres + ' / </font><font size=\"-2\" face=\"Verdana\" color=\"#00bb00\"><b>' + mymaxres + '</b></font></td><td><font color=\"white\" size=\"-2\" face=\"Verdana\">Magic: ' + mymag + ' / </font><font size=\"-2\" face=\"Verdana\" color=\"#333399\"><b>' + mymaxmag + '</b></font></td><td><font color=\"white\" size=\"-2\" face=\"Verdana\">Morale: ' + mymor + ' / </font><font size=\"-2\" face=\"Verdana\" color=\"#aa0000\"><b>' + mymaxmor + '</b></font></td></tr><tr><td><font color=\"white\" size=\"-2\" face=\"Verdana\">Money: ' + mymoney + '</font></td><td colspan=\"2\"><font color=\"white\" size=\"-2\" face=\"Verdana\">Fame: ' + myfame + '</font></td></tr></table></center>');");charoptsout.println("document.MOSDisplay.document.close();");} else if (mybrowser.equals("NS6")) {charoptsout.println("myres = document.MOMain.res; mymaxres = document.MOMain.maxres; mymag = document.MOMain.mag; mymaxmag = document.MOMain.maxmag; mymor = document.MOMain.mor; mymaxmor = document.MOMain.maxmor; myfame = document.MOMain.fame; mymoney = document.MOMain.money;");charoptsout.println("if (myres == null) { myres = \"loading...\"; } else {} if (mymaxres == null) { mymaxres = \"loading...\"; } else {} if (mymag == null) { mymag = \"loading...\"; } else {} if (mymaxmag == null) { mymaxmag = \"loading...\"; } else {} if (mymor == null) { mymor = \"loading...\"; } else {} if (mymaxmor == null) { mymaxmor = \"loading...\"; } else {} if (myfame == null) { myfame = \"loading...\"; } else {} if (mymoney == null) { mymoney = \"loading...\"; } else {}");charoptsout.println("objRef = document.getElementById(\"MOSDisplay\");");charoptsout.println("objRef.innerHTML = '<center><table border=\"0\" cellpadding=\"4\" cellspacing=\"1\" width=\"75%\" bgcolor=\"black\"><tr><td><font color=\"white\" size=\"-2\" face=\"Verdana\">Toughness: ' + myres + ' / </font><font size=\"-2\" face=\"Verdana\" color=\"#00bb00\"><b>' + mymaxres + '</b></font></td><td><font color=\"white\" size=\"-2\" face=\"Verdana\">Magic: ' + mymag + ' / </font><font size=\"-2\" face=\"Verdana\" color=\"#333399\"><b>' + mymaxmag + '</b></font></td><td><font color=\"white\" size=\"-2\" face=\"Verdana\">Morale: ' + mymor + ' / </font><font size=\"-2\" face=\"Verdana\" color=\"#aa0000\"><b>' + mymaxmor + '</b></font></td></tr><tr><td><font color=\"white\" size=\"-2\" face=\"Verdana\">Money: ' + mymoney + '</font></td><td colspan=\"2\"><font color=\"white\" size=\"-2\" face=\"Verdana\">Fame: ' + myfame + '</font></td></tr></table></center>';");} else {charoptsout.println("myres = document.MOMain.res; mymaxres = document.MOMain.maxres; mymag = document.MOMain.mag; mymaxmag = document.MOMain.maxmag; mymor = document.MOMain.mor; mymaxmor = document.MOMain.maxmor; myfame = document.MOMain.fame; mymoney = document.MOMain.money;");charoptsout.println("if (myres == null) { myres = \"loading...\"; } else {} if (mymaxres == null) { mymaxres = \"loading...\"; } else {} if (mymag == null) { mymag = \"loading...\"; } else {} if (mymaxmag == null) { mymaxmag = \"loading...\"; } else {} if (mymor == null) { mymor = \"loading...\"; } else {} if (mymaxmor == null) { mymaxmor = \"loading...\"; } else {} if (myfame == null) { myfame = \"loading...\"; } else {} if (mymoney == null) { mymoney = \"loading...\"; } else {}");charoptsout.println("objRef = document.getElementById(\"MOSDisplay\");");charoptsout.println("MOSDisplay.innerHTML = '<center><table border=\"0\" cellpadding=\"4\" cellspacing=\"1\" width=\"75%\" bgcolor=\"black\"><tr><td><font color=\"white\" size=\"-2\" face=\"Verdana\">Toughness: ' + myres + ' / </font><font size=\"-2\" face=\"Verdana\" color=\"#00bb00\"><b>' + mymaxres + '</b></font></td><td><font color=\"white\" size=\"-2\" face=\"Verdana\">Magic: ' + mymag + ' / </font><font size=\"-2\" face=\"Verdana\" color=\"#333399\"><b>' + mymaxmag + '</b></font></td><td><font color=\"white\" size=\"-2\" face=\"Verdana\">Morale: ' + mymor + ' / </font><font size=\"-2\" face=\"Verdana\" color=\"#aa0000\"><b>' + mymaxmor + '</b></font></td></tr><tr><td><font color=\"white\" size=\"-2\" face=\"Verdana\">Money: ' + mymoney + '</font></td><td colspan=\"2\"><font color=\"white\" size=\"-2\" face=\"Verdana\">Fame: ' + myfame + '</font></td></tr></table></center></span>';");}charoptsout.println("}");charoptsout.println("function JSMoraleReducer() { document.MOMain.MoraleReducer(); }");charoptsout.println("function JSUpdateWorld() { document.MOMain.UpdateWorld(); }");charoptsout.println("function JSSave() { document.MOMain.Save(); }");charoptsout.println("function MOClose() { window.close(); }");charoptsout.println("setInterval(\"MOSUpdate()\", 2500); setInterval(\"JSSave()\", 300000); setInterval(\"JSMoraleReducer()\", 60000);</script></table>");if (bkgndeffect.equals("aleafs.gif") || bkgndeffect.equals("asnow.gif")) {String animationgifs = "http://localhost/Images/" + bkgndeffect;String[] animatorfilearray = new String [52];int animatorfilesize = 0;String optslogbkgndanimatorfle = "data/scripts/bkgndeffect";animatorfilearray = ReadFile( optslogbkgndanimatorfle );charoptsout.println( "<SCRIPT LANGUAGE=\"JavaScript1.2\">" );charoptsout.println( "var no = 15; var imagespeed = 7;" );charoptsout.println( "var image=\"" + animationgifs + "\"" + ";");while (animatorfilesize <= 49) {charoptsout.println( animatorfilearray[animatorfilesize] );animatorfilesize = animatorfilesize + 1;}} else if (bkgndeffect.equals("rain")) {String[] animatorfilearray = new String [48];int animatorfilesize = 0;String optslogbkgndanimatorfle = "data/scripts/raineffect";animatorfilearray = ReadFile( optslogbkgndanimatorfle );while (animatorfilesize <= 48) {charoptsout.println( animatorfilearray[animatorfilesize] );animatorfilesize = animatorfilesize + 1;}} else { }String staffmember = "";if (optlogstatusarray[7].equals("Staff")) { staffmember = " <small runes appear on clothing>"; } else {}charoptsout.println("<table border=\"0\" cellpadding=\"0\" cellspacing=\"2\" width=\"775\" height=\"300\"><tr><td align=\"right\">");charoptsout.println("<table border=\"0\" cellpadding=\"15\" cellspacing=\"0\" height=\"300\" width=\"300\" background=\"http://localhost/Images/dscroll.gif\"><tr><td rowspan=\"2\" valign=\"top\"><font size=\"-2\">");charoptsout.println("<center><a href=\"http://localhost/guide/legend.html\" target=\"_blank\"><img src=\"http://localhost/Images/small_icons/" + optlogslocationarray[1] + ".gif\" width=\"18\" height=\"17\" border=\"2\" align=\"absmiddle\"></a><br><b><font face=\"Verdana\" color=\"black\" size=\"-2\">" + optlogslocationarray[0] + "</font></b></center><br>");charoptsout.println( "<font face=\"Verdana\" color=\"black\" size=\"-2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" + optlogslocationarray[19] + optlogslocationarray[20] + optlogslocationarray[21] + optlogslocationarray[22] + optlogslocationarray[23] + optlogslocationarray[24] + optlogslocationarray[25] + optlogslocationarray[26] + optlogslocationarray[27] + optlogslocationarray[28] + "</font></center>");charoptsout.println("</td></tr><tr height=\"70%\"></tr></table></td>");charoptsout.println("<td align=\"left\"><applet codebase=\"http://localhost/cgi-bin/VolanoChat/vcclient/samples/..\" archive=\"COM/volano/WebVolanoChat.jar\" code=\"COM.volano.WebVolanoChat.class\" width=\"450\" height=\"300\">");charoptsout.println("<param name=\"cabbase\" value=\"COM/volano/VolanoChat.cab\">");charoptsout.println("<param name=\"group\" value=\"" + optlogslocationarray[0] + "'s " + optlogstatusarray[15] + "\">");charoptsout.println("<param name=\"username\" value=\"" + optlogstatusarray[0] + "\">");charoptsout.println("<param name=\"profile\" value=\"" + " is a " + optlogstatusarray[3] + " " + falserace + optstrialdisp + ". Appearance: " + optlogstatsarray[36] + "." + staffmember + registeredstusnfo + "\">");charoptsout.println("</applet></td></tr></table><br><br><form name=MOMainForm>");if ( optlogstatusarray[15].equals("Surroundings")) {if (myplatform.equals("MAC")) {charoptsout.println("<table border=0 cellpadding=5 cellspacing=0 width=100%><tr><td align=center><a href=javascript:document.MOMain.PrintAttackScreen() target=MOAttack><img src=http://localhost/Images/attack.gif border=0 align=absmiddle></a> <input type=text name=attacktarget size=10 maxlength=30>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintStealScreen() target=MOSteal><img src=http://localhost/Images/steal.gif border=0 align=absmiddle></a> <input type=text name=stealtarget size=10 maxlength=30>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintGiveScreen() target=GiveAttack><img src=http://localhost/Images/giveto.gif border=0 align=absmiddle></a> <input type=text name=givetarget size=10 maxlength=30>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintNPCAttackScreen() target=NPCAttack><img src=http://localhost/Images/wanderingfoes.gif border=0 align=absmiddle></a></td></tr><tr><td align=center><a href=javascript:document.MOMain.PrintMessagesScreen() target=MOMessages><img src=http://localhost/Images/messagenew.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintEquipmentScreen() target=MOEquipment><img src=http://localhost/Images/equipment.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintStatusScreen() ");charoptsout.println("target=MOStatus><img src=http://localhost/Images/status.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintInventoryScreen() target=MOInv><img src=http://localhost/Images/inventory.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintLootScreen() target=MOLoot><img src=http://localhost/Images/hiderecover.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintAbilitySpellScreen() target=MOAbilitySpell><img src=http://localhost/Images/useabilitycastspell.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintFollowersScreen() target=MOFollowers><img src=http://localhost/Images/managefollowers.gif border=0 align=absmiddle></a></td>");charoptsout.println("</tr><tr><td align=center><a href=javascript:document.MOMain.PrintSearchScreen(document.MOMainForm.searchlength.options[document.MOMainForm.searchlength.selectedIndex].value) target=PlayFrame><img src=http://localhost/Images/searchfor.gif border=0 align=absmiddle></a><select name=searchtarget size=1><option value=food>food</option><option value=ingredients>ingredients</option><option value=items>items</option><option value=loots>hidden loots</option><option value=money>money</option></select> <select name=searchlength size=1>");charoptsout.println("<option value=1>1 hour</option><option value=2>2 hours</option><option value=3>3 hours</option><option value=4>4 hours</option><option value=5>5 hours</option><option value=6>6 hours</option><option value=7>7 hours</option><option value=8>8 hours</option><option value=9>9 hours</option><option value=10>10 hours</option><option value=11>11 hours</option><option value=12>12 hours</option><option value=13>13 hours</option><option value=14>14 hours</option><option value=15>15 hours</option><option value=16>16 hours</option><option value=17>17 hours</option><option value=18>18 hours</option><option value=19>19 hours</option><option value=20>20 hours</option><option value=21>21 hours</option><option value=22>22 hours</option><option value=23>23 hours</option><option value=24 selected>24 hours</option></select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;");charoptsout.println("<a href=javascript:document.MOMain.PrintRestScreen(document.MOMainForm.restlength.options[document.MOMainForm.restlength.selectedIndex].value) target=PlayFrame><img src=http://localhost/Images/rest.gif border=0 align=absmiddle></a> <select name=restlength size=1><option value=1>1 hour</option><option value=2>2 hours</option><option value=3>3 hours</option><option value=4>4 hours</option><option value=5>5 hours</option><option value=6>6 hours</option><option value=7>7 hours</option><option value=8>8 hours</option><option value=9>9 hours</option><option value=10>10 hours</option><option value=11>11 hours</option>");charoptsout.println("<option value=12>12 hours</option><option value=13>13 hours</option><option value=14>14 hours</option><option value=15>15 hours</option><option value=16>16 hours</option><option value=17>17 hours</option><option value=18>18 hours</option><option value=19>19 hours</option><option value=20>20 hours</option><option value=21>21 hours</option><option value=22>22 hours</option><option value=23>23 hours</option><option value=24 selected>24 hours</option><option value=25 selected>Full recovery</option>");charoptsout.println("</select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintTravelScreen() target=MOTravel><img src=http://localhost/Images/travel.gif border=0 align=absmiddle></a><td></td></tr><tr>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;");if (optlogslocationarray[5].equals("none")) { charoptsout.println("<td></td></tr>"); } else {charoptsout.println("<td align=center><a href=\"javascript:document.MOMain.PrintGotoScreen(document.MOMainForm.gototarget.options[document.MOMainForm.gototarget.selectedIndex].value)\" target=\"PlayFrame\"><img src=\"http://localhost/Images/goto.gif\" border=\"0\" align=\"absmiddle\"></a> <select name=\"gototarget\" size=\"1\">");StringTokenizer LocationGotos = new StringTokenizer(optlogslocationarray[5],"*",false);String currentGoto = "";while (LocationGotos.hasMoreTokens()) {currentGoto = LocationGotos.nextToken();if (optlogstatusarray[15].equals(currentGoto) || (optlogstatusarray[15].equals(" ") && currentGoto.equals("Surroundings"))) { } else { charoptsout.println("<option value=\"" + currentGoto + "\">" + currentGoto + "</option>"); }} charoptsout.println("</select>"); }} else {charoptsout.println("<table border=0 cellpadding=5 cellspacing=0 width=100%><tr><td align=center><a href=# onClick=MOMain.PrintAttackScreen() target=MOAttack><img src=http://localhost/Images/attack.gif border=0 align=absmiddle></a> <input type=text name=attacktarget size=10 maxlength=30>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintStealScreen() target=MOSteal><img src=http://localhost/Images/steal.gif border=0 align=absmiddle></a> <input type=text name=stealtarget size=10 maxlength=30>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintGiveScreen() target=GiveAttack><img src=http://localhost/Images/giveto.gif border=0 align=absmiddle></a> <input type=text name=givetarget size=10 maxlength=30>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintNPCAttackScreen() target=NPCAttack><img src=http://localhost/Images/wanderingfoes.gif border=0 align=absmiddle></a></td></tr><tr><td align=center><a href=# onClick=MOMain.PrintMessagesScreen() target=MOMessages><img src=http://localhost/Images/messagenew.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintEquipmentScreen() target=MOEquipment><img src=http://localhost/Images/equipment.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintStatusScreen() target=MOStatus>");charoptsout.println("<img src=http://localhost/Images/status.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintInventoryScreen() target=MOInv><img src=http://localhost/Images/inventory.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintLootScreen() target=MOLoot><img src=http://localhost/Images/hiderecover.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onCLick=MOMain.PrintAbilitySpellScreen() target=MOAbilitySpell><img src=http://localhost/Images/useabilitycastspell.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:# onClick=MOMain.PrintFollowersScreen() target=MOFollowers><img src=http://localhost/Images/managefollowers.gif border=0 align=absmiddle></a></td>");charoptsout.println("</tr><tr><td align=center><a href=# onClick=MOMain.PrintSearchScreen(document.MOMainForm.searchlength.options[document.MOMainForm.searchlength.selectedIndex].value) target=PlayFrame><img src=http://localhost/Images/searchfor.gif border=0 align=absmiddle></a><select name=searchtarget size=1><option value=food>food</option><option value=ingredients>ingredients</option><option value=items>items</option><option value=loots>hidden loots</option><option value=money>money</option></select> <select name=searchlength size=1>");charoptsout.println("<option value=1>1 hour</option><option value=2>2 hours</option><option value=3>3 hours</option><option value=4>4 hours</option><option value=5>5 hours</option><option value=6>6 hours</option><option value=7>7 hours</option><option value=8>8 hours</option><option value=9>9 hours</option><option value=10>10 hours</option><option value=11>11 hours</option><option value=12>12 hours</option><option value=13>13 hours</option><option value=14>14 hours</option><option value=15>15 hours</option><option value=16>16 hours</option><option value=17>17 hours</option><option value=18>18 hours</option><option value=19>19 hours</option><option value=20>20 hours</option><option value=21>21 hours</option><option value=22>22 hours</option><option value=23>23 hours</option><option value=24 selected>24 hours</option></select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;");charoptsout.println("<a href=# onClick=MOMain.PrintRestScreen(document.MOMainForm.restlength.options[document.MOMainForm.restlength.selectedIndex].value) target=PlayFrame><img src=http://localhost/Images/rest.gif border=0 align=absmiddle></a> <select name=restlength size=1><option value=1>1 hour</option><option value=2>2 hours</option><option value=3>3 hours</option><option value=4>4 hours</option><option value=5>5 hours</option><option value=6>6 hours</option><option value=7>7 hours</option><option value=8>8 hours</option><option value=9>9 hours</option><option value=10>10 hours</option><option value=11>11 hours</option>");charoptsout.println("<option value=12>12 hours</option><option value=13>13 hours</option><option value=14>14 hours</option><option value=15>15 hours</option><option value=16>16 hours</option><option value=17>17 hours</option><option value=18>18 hours</option><option value=19>19 hours</option><option value=20>20 hours</option><option value=21>21 hours</option><option value=22>22 hours</option><option value=23>23 hours</option><option value=24 selected>24 hours</option><option value=25 selected>Full recovery</option>");charoptsout.println("</select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintTravelScreen() target=MOTravel><img src=http://localhost/Images/travel.gif border=0 align=absmiddle></a><td></td></tr>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;");if (optlogslocationarray[5].equals("none")) { charoptsout.println("<td></td></tr>"); } else {charoptsout.println("<tr><td align=center><a href=# onClick=MOMain.PrintGotoScreen(document.MOMainForm.gototarget.options[document.MOMainForm.gototarget.selectedIndex].value) target=PlayFrame><img src=http://localhost/Images/goto.gif border=0 align=absmiddle></a> <select name=gototarget size=1>");StringTokenizer LocationGotos = new StringTokenizer(optlogslocationarray[5],"*",false);String currentGoto = "";while (LocationGotos.hasMoreTokens()) {currentGoto = LocationGotos.nextToken();if (optlogstatusarray[15].equals(currentGoto) || (optlogstatusarray[15].equals(" ") && currentGoto.equals("Surroundings"))) { } else { charoptsout.println("<option value=\"" + currentGoto + "\">" + currentGoto + "</option>"); }} charoptsout.println("</select>"); }}} else if ( optlogstatusarray[15].equals("Tavern") ) {if (myplatform.equals("MAC")) {charoptsout.println("<table border=0 cellpadding=5 cellspacing=0 width=100%><tr><td align=center><a href=javascript:document.MOMain.PrintAttackScreen() target=MOAttack><img src=http://localhost/Images/attack.gif border=0 align=absmiddle></a> <input type=text name=attacktarget size=10 maxlength=30>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintStealScreen() target=MOSteal><img src=http://localhost/Images/steal.gif border=0 align=absmiddle></a> <input type=text name=stealtarget size=10 maxlength=30>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintGiveScreen() target=GiveAttack><img src=http://localhost/Images/giveto.gif border=0 align=absmiddle></a> <input type=text name=givetarget size=10 maxlength=30>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintHireScreen(document.MOMainForm.hiretarget.options[document.MOMainForm.hiretarget.selectedIndex].value) target=MOHire><img src=http://localhost/Images/hire.gif border=0 align=absmiddle></a> <select name=hiretarget size=1>");charoptsout.println("<option value=bounty hunter>bounty hunter</option><option value=followers>followers</option><option value=mercenaries>mercenaries</option><option value=messenger>messenger</option></select></td></tr><tr><td align=center><a href=javascript:document.MOMain.PrintMessagesScreen() target=MOMessages><img src=http://localhost/Images/messagenew.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintEquipmentScreen() target=MOEquipment><img src=http://localhost/Images/equipment.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintStatusScreen() target=MOStatus><img src=http://localhost/Images/status.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintInventoryScreen() target=MOInv><img src=http://localhost/Images/inventory.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintAbilitySpellScreen() target=MOAbilitySpell><img src=http://localhost/Images/useabilitycastspell.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintFollowersScreen() target=MOFollowers><img src=http://localhost/Images/managefollowers.gif border=0 align=absmiddle></a></td>");charoptsout.println("</tr><tr><td align=center><a href=javascript:document.MOMain.PrintMealScreen() target=MOMeal><img src=http://localhost/Images/haveameal.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintGambleScreen() target=MOGamble><img src=http://localhost/Images/gamble.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintMessageboardScreen() target=MOMessageboard><img src=http://localhost/Images/mboardtavern.gif border=0 align=absmiddle></a></td></tr>");if (optlogslocationarray[5].equals("none")) {} else {charoptsout.println("<td align=center><a href=\"javascript:document.MOMain.PrintGotoScreen(document.MOMainForm.gototarget.options[document.MOMainForm.gototarget.selectedIndex].value)\" target=\"PlayFrame\"><img src=\"http://localhost/Images/goto.gif\" border=\"0\" align=\"absmiddle\"></a> <select name=\"gototarget\" size=\"1\">");StringTokenizer LocationGotos = new StringTokenizer(optlogslocationarray[5],"*",false);String currentGoto = "";while (LocationGotos.hasMoreTokens()) {currentGoto = LocationGotos.nextToken();if (optlogstatusarray[15].equals(currentGoto) || (optlogstatusarray[15].equals(" ") && currentGoto.equals("Surroundings"))) { } else { charoptsout.println("<option value=\"" + currentGoto + "\">" + currentGoto + "</option>"); }} charoptsout.println("</select>"); }} else {charoptsout.println("<table border=0 cellpadding=5 cellspacing=0 width=100%><tr><td align=center><a href=# onClick=MOMain.PrintAttackScreen() target=MOAttack><img src=http://localhost/Images/attack.gif border=0 align=absmiddle></a> <input type=text name=attacktarget size=10 maxlength=30>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintStealScreen() target=MOSteal><img src=http://localhost/Images/steal.gif border=0 align=absmiddle></a> <input type=text name=stealtarget size=10 maxlength=30>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintGiveScreen() target=GiveAttack><img src=http://localhost/Images/giveto.gif border=0 align=absmiddle></a> <input type=text name=givetarget size=10 maxlength=30>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintHireScreen(document.MOMainForm.hiretarget.options[document.MOMainForm.hiretarget.selectedIndex].value) target=MOHire><img src=http://localhost/Images/hire.gif border=0 align=absmiddle></a> <select name=hiretarget size=1>");charoptsout.println("<option value=bounty hunter>bounty hunter</option><option value=followers>followers</option><option value=mercenaries>mercenaries</option><option value=messenger>messenger</option></select></td></tr><tr><td align=center><a href=# onClick=MOMain.PrintMessagesScreen() target=MOMessages><img src=http://localhost/Images/messagenew.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintEquipmentScreen() target=MOEquipment><img src=http://localhost/Images/equipment.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintStatusScreen() target=MOStatus><img src=http://localhost/Images/status.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintInventoryScreen() target=MOInv><img src=http://localhost/Images/inventory.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintAbilitySpellScreen() target=MOAbilitySpell><img src=http://localhost/Images/useabilitycastspell.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintFollowersScreen() target=MOFollowers><img src=http://localhost/Images/managefollowers.gif border=0 align=absmiddle></a></td>");charoptsout.println("</tr><tr><td align=center><a href=# onClick=MOMain.PrintMealScreen() target=MOMeal><img src=http://localhost/Images/haveameal.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintGambleScreen() target=MOGamble><img src=http://localhost/Images/gamble.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintMessageboardScreen() target=MOMessageboard><img src=http://localhost/Images/mboardtavern.gif border=0 align=absmiddle></a></td></tr>");if (optlogslocationarray[5].equals("none")) { charoptsout.println("<td></td>"); } else {charoptsout.println("<td align=center><a href=# onClick=MOMain.PrintGotoScreen(document.MOMainForm.gototarget.options[document.MOMainForm.gototarget.selectedIndex].value) target=PlayFrame><img src=http://localhost/Images/goto.gif border=0 align=absmiddle></a> <select name=gototarget size=1>");StringTokenizer LocationGotos = new StringTokenizer(optlogslocationarray[5],"*",false);String currentGoto = "";while (LocationGotos.hasMoreTokens()) {currentGoto = LocationGotos.nextToken();if (optlogstatusarray[15].equals(currentGoto) || (optlogstatusarray[15].equals(" ") && currentGoto.equals("Surroundings"))) { } else { charoptsout.println("<option value=\"" + currentGoto + "\">" + currentGoto + "</option>"); }} charoptsout.println("</select>"); }}} else if ( optlogstatusarray[15].equals("Temple") ) {if (myplatform.equals("MAC")) {charoptsout.println("<table border=0 cellpadding=5 cellspacing=0 width=100%><tr><td align=center><a href=javascript:document.MOMain.PrintHireScreen(document.MOMainForm.hiretarget.options[document.MOMainForm.hiretarget.selectedIndex].value) target=MOHire><img src=http://localhost/Images/hire.gif border=0 align=absmiddle></a> <select name=hiretarget size=1><option value=wizard>wizard</option><option value=sage>sage</option></select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintShopScreen() target=MOShop><img src=http://localhost/Images/shop.gif border=0 align=absmiddle></a></td></tr><tr><td align=center><a href=javascript:document.MOMain.PrintMessagesScreen() target=MOMessages><img src=http://localhost/Images/messagenew.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintEquipmentScreen() target=MOEquipment><img src=http://localhost/Images/equipment.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintStatusScreen() target=MOStatus><img src=http://localhost/Images/status.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintInventoryScreen() target=MOInv><img src=http://localhost/Images/inventory.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;");charoptsout.println("<a href=javascript:document.MOMain.PrintFollowersScreen() target=MOFollowers><img src=http://localhost/Images/managefollowers.gif border=0 align=absmiddle></a></td></tr>");if (optlogslocationarray[5].equals("none")) {} else {charoptsout.println("<td align=center><a href=\"javascript:document.MOMain.PrintGotoScreen(document.MOMainForm.gototarget.options[document.MOMainForm.gototarget.selectedIndex].value)\" target=\"PlayFrame\"><img src=\"http://localhost/Images/goto.gif\" border=\"0\" align=\"absmiddle\"></a> <select name=\"gototarget\" size=\"1\">");StringTokenizer LocationGotos = new StringTokenizer(optlogslocationarray[5],"*",false);String currentGoto = "";while (LocationGotos.hasMoreTokens()) {currentGoto = LocationGotos.nextToken();if (optlogstatusarray[15].equals(currentGoto) || (optlogstatusarray[15].equals(" ") && currentGoto.equals("Surroundings"))) { } else { charoptsout.println("<option value=\"" + currentGoto + "\">" + currentGoto + "</option>"); }} charoptsout.println("</select>"); }} else {charoptsout.println("<table border=0 cellpadding=5 cellspacing=0 width=100%><tr><td align=center><a href=# onClick=MOMain.PrintHireScreen(document.MOMainForm.hiretarget.options[document.MOMainForm.hiretarget.selectedIndex].value) target=MOHire><img src=http://localhost/Images/hire.gif border=0 align=absmiddle></a> <select name=hiretarget size=1><option value=wizard>wizard</option><option value=sage>sage</option></select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintShopScreen() target=MOShop><img src=http://localhost/Images/shop.gif border=0 align=absmiddle></a></td></tr><tr><td align=center><a href=# onClick=MOMain.PrintMessagesScreen() target=MOMessages><img src=http://localhost/Images/messagenew.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintEquipmentScreen() target=MOEquipment><img src=http://localhost/Images/equipment.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintStatusScreen() target=MOStatus><img src=http://localhost/Images/status.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintInventoryScreen() target=MOInv><img src=http://localhost/Images/inventory.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;");charoptsout.println("<a href=# onClick=MOMain.PrintFollowersScreen() target=MOFollowers><img src=http://localhost/Images/managefollowers.gif border=0 align=absmiddle></a></td></tr>");if (optlogslocationarray[5].equals("none")) { charoptsout.println("<td></td>"); } else {charoptsout.println("<td align=center><a href=# onClick=MOMain.PrintGotoScreen(document.MOMainForm.gototarget.options[document.MOMainForm.gototarget.selectedIndex].value) target=PlayFrame><img src=http://localhost/Images/goto.gif border=0 align=absmiddle></a> <select name=gototarget size=1>");StringTokenizer LocationGotos = new StringTokenizer(optlogslocationarray[5],"*",false);String currentGoto = "";while (LocationGotos.hasMoreTokens()) {currentGoto = LocationGotos.nextToken();if (optlogstatusarray[15].equals(currentGoto) || (optlogstatusarray[15].equals(" ") && currentGoto.equals("Surroundings"))) { } else { charoptsout.println("<option value=\"" + currentGoto + "\">" + currentGoto + "</option>"); }} charoptsout.println("</select>"); }}} else if ( optlogstatusarray[15].equals("Inn")) {if (myplatform.equals("MAC")) {charoptsout.println("<table border=0 cellpadding=5 cellspacing=0 width=100%><tr><td align=center><a href=javascript:document.MOMain.PrintAttackScreen() target=MOAttack><img src=http://localhost/Images/attack.gif border=0 align=absmiddle></a> <input type=text name=attacktarget size=10 maxlength=30>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintStealScreen() target=MOSteal><img src=http://localhost/Images/steal.gif border=0 align=absmiddle></a> <input type=text name=stealtarget size=10 maxlength=30>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintGiveScreen() target=GiveAttack><img src=http://localhost/Images/giveto.gif border=0 align=absmiddle></a> <input type=text name=givetarget size=10 maxlength=30>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintHireScreen(document.MOMainForm.hiretarget.options[document.MOMainForm.hiretarget.selectedIndex].value) target=MOHire><img src=http://localhost/Images/hire.gif border=0 align=absmiddle></a> <select name=hiretarget size=1><option value=healer>healer</option><option value=messenger>messenger</option></select></td></tr><tr>");charoptsout.println("<td align=center><a href=javascript:document.MOMain.PrintMessagesScreen() target=MOMessages><img src=http://localhost/Images/messagenew.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintEquipmentScreen() target=MOEquipment><img src=http://localhost/Images/equipment.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintStatusScreen() target=MOStatus><img src=http://localhost/Images/status.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintInventoryScreen() target=MOInv><img src=http://localhost/Images/inventory.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintAbilitySpellScreen() target=MOAbilitySpell><img src=http://localhost/Images/useabilitycastspell.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintFollowersScreen() target=MOFollowers><img src=http://localhost/Images/managefollowers.gif border=0 align=absmiddle></a></td>");charoptsout.println("</tr><tr><td align=center><a href=javascript:document.MOMain.PrintMealScreen() target=MOMeal><img src=http://localhost/Images/haveameal.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintRentRoomScreen() target=MORentRoom><img src=http://localhost/Images/rentaroom.gif border=0 align=absmiddle></a></td></tr>");if (optlogslocationarray[5].equals("none")) {} else {charoptsout.println("<td align=center><a href=\"javascript:document.MOMain.PrintGotoScreen(document.MOMainForm.gototarget.options[document.MOMainForm.gototarget.selectedIndex].value)\" target=\"PlayFrame\"><img src=\"http://localhost/Images/goto.gif\" border=\"0\" align=\"absmiddle\"></a> <select name=\"gototarget\" size=\"1\">");StringTokenizer LocationGotos = new StringTokenizer(optlogslocationarray[5],"*",false);String currentGoto = "";while (LocationGotos.hasMoreTokens()) {currentGoto = LocationGotos.nextToken();if (optlogstatusarray[15].equals(currentGoto) || (optlogstatusarray[15].equals(" ") && currentGoto.equals("Surroundings"))) { } else { charoptsout.println("<option value=\"" + currentGoto + "\">" + currentGoto + "</option>"); }} charoptsout.println("</select>"); }} else {charoptsout.println("<table border=0 cellpadding=5 cellspacing=0 width=100%><tr><td align=center><a href=# onClick=MOMain.PrintAttackScreen() target=MOAttack><img src=http://localhost/Images/attack.gif border=0 align=absmiddle></a> <input type=text name=attacktarget size=10 maxlength=30>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintStealScreen() target=MOSteal><img src=http://localhost/Images/steal.gif border=0 align=absmiddle></a> <input type=text name=stealtarget size=10 maxlength=30>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintGiveScreen() target=GiveAttack><img src=http://localhost/Images/giveto.gif border=0 align=absmiddle></a> <input type=text name=givetarget size=10 maxlength=30>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintHireScreen(document.MOMainForm.hiretarget.options[document.MOMainForm.hiretarget.selectedIndex].value) target=MOHire><img src=http://localhost/Images/hire.gif border=0 align=absmiddle></a> <select name=hiretarget size=1><option value=healer>healer</option><option value=messenger>messenger</option></select></td></tr><tr>");charoptsout.println("<td align=center><a href=# onClick=document.MOMain.PrintMessagesScreen() target=MOMessages><img src=http://localhost/Images/messagenew.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintEquipmentScreen() target=MOEquipment><img src=http://localhost/Images/equipment.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintStatusScreen() target=MOStatus><img src=http://localhost/Images/status.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintInventoryScreen() target=MOInv><img src=http://localhost/Images/inventory.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintAbilitySpellScreen() target=MOAbilitySpell><img src=http://localhost/Images/useabilitycastspell.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintFollowersScreen() target=MOFollowers><img src=http://localhost/Images/managefollowers.gif border=0 align=absmiddle></a></td>");charoptsout.println("</tr><tr><td align=center><a href=# onClick=document.MOMain.PrintMealScreen() target=MOMeal><img src=http://localhost/Images/haveameal.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintRentRoomScreen() target=MORentRoom><img src=http://localhost/Images/rentaroom.gif border=0 align=absmiddle></a></td></tr>");if (optlogslocationarray[5].equals("none")) { charoptsout.println("<td></td>"); } else {charoptsout.println("<td align=center><a href=# onClick=MOMain.PrintGotoScreen(document.MOMainForm.gototarget.options[document.MOMainForm.gototarget.selectedIndex].value) target=PlayFrame><img src=http://localhost/Images/goto.gif border=0 align=absmiddle></a> <select name=gototarget size=1>");StringTokenizer LocationGotos = new StringTokenizer(optlogslocationarray[5],"*",false);String currentGoto = "";while (LocationGotos.hasMoreTokens()) {currentGoto = LocationGotos.nextToken();if (optlogstatusarray[15].equals(currentGoto) || (optlogstatusarray[15].equals(" ") && currentGoto.equals("Surroundings"))) { } else { charoptsout.println("<option value=\"" + currentGoto + "\">" + currentGoto + "</option>"); }} charoptsout.println("</select>"); }}} else if ( optlogstatusarray[15].equals("Town Hall") ) {if (myplatform.equals("MAC")) {charoptsout.println("<table border=0 cellpadding=5 cellspacing=0 width=100%><tr><td align=center><a href=javascript:document.MOMain.PrintAttackScreen() target=MOAttack><img src=http://localhost/Images/attack.gif border=0 align=absmiddle></a> <input type=text name=attacktarget size=10 maxlength=30>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintStealScreen() target=MOSteal><img src=http://localhost/Images/steal.gif border=0 align=absmiddle></a> <input type=text name=stealtarget size=10 maxlength=30>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintGiveScreen() target=GiveAttack><img src=http://localhost/Images/giveto.gif border=0 align=absmiddle></a> <input type=text name=givetarget size=10 maxlength=30>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintHireScreen(document.MOMainForm.hiretarget.options[document.MOMainForm.hiretarget.selectedIndex].value) target=MOHire><img src=http://localhost/Images/hire.gif border=0 align=absmiddle></a> <select name=hiretarget size=1>");charoptsout.println("<option value=informant>informant</option><option value=messenger>messenger</option></select></td></tr><tr><td align=center><a href=javascript:document.MOMain.PrintMessagesScreen() target=MOMessages><img src=http://localhost/Images/messagenew.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintEquipmentScreen() target=MOEquipment><img src=http://localhost/Images/equipment.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintStatusScreen() target=MOStatus><img src=http://localhost/Images/status.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintInventoryScreen() target=MOInv><img src=http://localhost/Images/inventory.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintAbilitySpellScreen() target=MOAbilitySpell><img src=http://localhost/Images/useabilitycastspell.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintFollowersScreen() target=MOFollowers><img src=http://localhost/Images/managefollowers.gif border=0 align=absmiddle></a></td>");charoptsout.println("</tr><tr><td align=center><a href=javascript:document.MOMain.PrintCharityScreen() target=MOCharity><img src=http://localhost/Images/charity.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=javascript:document.MOMain.PrintInvestScreen() target=MOInvest><img src=http://localhost/Images/invest.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>");if (optlogslocationarray[5].equals("none")) { charoptsout.println("<td></td>"); } else {charoptsout.println("<td align=center><a href=\"javascript:document.MOMain.PrintGotoScreen(document.MOMainForm.gototarget.options[document.MOMainForm.gototarget.selectedIndex].value)\" target=\"PlayFrame\"><img src=\"http://localhost/Images/goto.gif\" border=\"0\" align=\"absmiddle\"></a> <select name=\"gototarget\" size=\"1\">");StringTokenizer LocationGotos = new StringTokenizer(optlogslocationarray[5],"*",false);String currentGoto = "";while (LocationGotos.hasMoreTokens()) {currentGoto = LocationGotos.nextToken();if (optlogstatusarray[15].equals(currentGoto) || (optlogstatusarray[15].equals(" ") && currentGoto.equals("Surroundings"))) { } else { charoptsout.println("<option value=\"" + currentGoto + "\">" + currentGoto + "</option>"); }} charoptsout.println("</select>"); }} else {charoptsout.println("<table border=0 cellpadding=5 cellspacing=0 width=100%><tr><td align=center><a href=# onClick=MOMain.PrintAttackScreen() target=MOAttack><img src=http://localhost/Images/attack.gif border=0 align=absmiddle></a> <input type=text name=attacktarget size=10 maxlength=30>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintStealScreen() target=MOSteal><img src=http://localhost/Images/steal.gif border=0 align=absmiddle></a> <input type=text name=stealtarget size=10 maxlength=30>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintGiveScreen() target=GiveAttack><img src=http://localhost/Images/giveto.gif border=0 align=absmiddle></a> <input type=text name=givetarget size=10 maxlength=30>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintHireScreen(document.MOMainForm.hiretarget.options[document.MOMainForm.hiretarget.selectedIndex].value) target=MOHire><img src=http://localhost/Images/hire.gif border=0 align=absmiddle></a> <select name=hiretarget size=1>");charoptsout.println("<option value=informant>informant</option><option value=messenger>messenger</option></select></td></tr><tr><td align=center><a href=# onClick=MOMain.PrintMessagesScreen() target=MOMessages><img src=http://localhost/Images/messagenew.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintEquipmentScreen() target=MOEquipment><img src=http://localhost/Images/equipment.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintStatusScreen() target=MOStatus><img src=http://localhost/Images/status.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintInventoryScreen() target=MOInv><img src=http://localhost/Images/inventory.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintAbilitySpellScreen() target=MOAbilitySpell><img src=http://localhost/Images/useabilitycastspell.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintFollowersScreen() target=MOFollowers><img src=http://localhost/Images/managefollowers.gif border=0 align=absmiddle></a></td>");charoptsout.println("</tr><tr><td align=center><a href=# onClick=MOMain.PrintCharityScreen() target=MOCharity><img src=http://localhost/Images/charity.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=# onClick=MOMain.PrintInvestScreen() target=MOInvest><img src=http://localhost/Images/invest.gif border=0 align=absmiddle></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>");if (optlogslocationarray[5].equals("none")) { charoptsout.println("<td></td>"); } else {charoptsout.println("<td align=center><a href=# onClick=MOMain.PrintGotoScreen(document.MOMainForm.gototarget.options[document.MOMainForm.gototarget.selectedIndex].value) target=PlayFrame><img src=http://localhost/Images/goto.gif border=0 align=absmiddle></a> <select name=gototarget size=1>");StringTokenizer LocationGotos = new StringTokenizer(optlogslocationarray[5],"*",false);String currentGoto = "";while (LocationGotos.hasMoreTokens()) {currentGoto = LocationGotos.nextToken();if (optlogstatusarray[15].equals(currentGoto) || (optlogstatusarray[15].equals(" ") && currentGoto.equals("Surroundings"))) { } else { charoptsout.println("<option value=\"" + currentGoto + "\">" + currentGoto + "</option>"); }} charoptsout.println("</select>"); }}} else if ( optlogstatusarray[15].equals("Guards Quarters") ) {} else if ( optlogstatusarray[15].equals("Black Market") ) {} else if ( optlogstatusarray[15].equals("Market") ) {if (optlogslocationarray[5].equals("none")) { charoptsout.println("<td></td>"); } else {charoptsout.println("<td align=center><a href=# onClick=MOMain.PrintGotoScreen(document.MOMainForm.gototarget.options[document.MOMainForm.gototarget.selectedIndex].value) target=PlayFrame><img src=http://localhost/Images/goto.gif border=0 align=absmiddle></a> <select name=gototarget size=1>");StringTokenizer LocationGotos = new StringTokenizer(optlogslocationarray[5],"*",false);String currentGoto = "";while (LocationGotos.hasMoreTokens()) {currentGoto = LocationGotos.nextToken();if (optlogstatusarray[15].equals(currentGoto) || (optlogstatusarray[15].equals(" ") && currentGoto.equals("Surroundings"))) { } else { charoptsout.println("<option value=\"" + currentGoto + "\">" + currentGoto + "</option>"); }} charoptsout.println("</select>"); }} else if ( optlogstatusarray[15].equals("Library") ) {} else if ( optlogstatusarray[15].equals("Hall of Honors") ) {if (optlogslocationarray[5].equals("none")) { charoptsout.println("<td></td>"); } else {charoptsout.println("<td align=center><a href=# onClick=MOMain.PrintGotoScreen(document.MOMainForm.gototarget.options[document.MOMainForm.gototarget.selectedIndex].value) target=PlayFrame><img src=http://localhost/Images/goto.gif border=0 align=absmiddle></a> <select name=gototarget size=1>");StringTokenizer LocationGotos = new StringTokenizer(optlogslocationarray[5],"*",false);String currentGoto = "";while (LocationGotos.hasMoreTokens()) {currentGoto = LocationGotos.nextToken();if (optlogstatusarray[15].equals(currentGoto) || (optlogstatusarray[15].equals(" ") && currentGoto.equals("Surroundings"))) { } else { charoptsout.println("<option value=\"" + currentGoto + "\">" + currentGoto + "</option>"); }} charoptsout.println("</select>"); }} else if ( optlogstatusarray[15].equals("Hall of Glories") ) {} else if ( optlogstatusarray[15].equals("Guilds Quarters") ) {} else if ( optlogstatusarray[15].equals("Palisade") ) {} else if ( optlogstatusarray[15].equals("Alchemist Tower") ) {} else if ( optlogstatusarray[15].equals("Arena") ) {} else if ( optlogstatusarray[15].equals("Circle of Chaos") ) {} else if ( optlogstatusarray[15].equals("Academy") ) {} else if ( optlogstatusarray[15].equals("Training Grounds") ) {} else if ( optlogstatusarray[15].equals("Elders Council") ) {} else if ( optlogstatusarray[15].equals("Messagery") ) {} else { charoptsout.println("<img src=\"http://localhost/Images/error.gif\" width=\"36\" height=\"42\" border=\"0\"><br><br><font size=\"-2\" face=\"Verdana\" color=\"red\">Error 204.<br><br>Please report this error to us right away.<br><br><b>Specify your configuration and your username</b>.</font>"); }charoptsout.println("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=http://localhost/logout.html target=PlayFrame><img src=http://localhost/Images/logout.gif border=0 align=absmiddle></a></td></tr></table>");charoptsout.println("<applet code=\"MOMain.class\" name=\"MOMain\" mayscript width=\"1\" height=\"1\" codebase=\"http://localhost/Applets/" + mybrowser + "\"><param name=\"myAcct\" value=\"" + mochoptsusername + "\"><param name=\"myChar\" value=\"" + mycharacter + "\"><param name=\"mybrowser\" value=\"" + mybrowser + "\"><param name=\"myplatform\" value=\"" + myplatform + "\"><param name=\"scriptable\" value=\"true\"></applet>");charoptsout.println("</form></div></body></html>");charoptsout.close();return;} else { cpsres.sendRedirect("http://localhost/genericerror.html"); return; }}// Format Time String for Comparisonpublic void TimeSeparator( String RawEndTime ) {int RawCharTimeEndSize = 0;StringTokenizer RawCharEndTimeTk = new StringTokenizer(RawEndTime,"*",false);while (RawCharEndTimeTk.hasMoreTokens()) {MOChOptsSepTime[RawCharTimeEndSize] = RawCharEndTimeTk.nextToken();RawCharTimeEndSize = RawCharTimeEndSize + 1; }int mochmtime = 12 * ( hour * 3600 + min * 60 + sec );int mochmtimeday = mochmtime / 3600;int mochmday = ( (mochmtimeday / 24) + Integer.parseInt(optlogsdatefle[5]) );int mochmhour = mochmtimeday % 24;int mochmmin = (mochmtime % 3600) / 60;convertedarrivaltimetosec = ((86400 * Integer.parseInt(MOChOptsSepTime[1])) + (3600 * Integer.parseInt(MOChOptsSepTime[2])) + (60 * Integer.parseInt(MOChOptsSepTime[3])) );convertedtimetosec = ( (86400 * mochmday) + (3600 * mochmhour) + (60 * mochmmin) );} // END void GetServerTime()String FixMinutes(int MinutetoFix) { String MinuteFixed;if (MinutetoFix == 0) { MinuteFixed = "00";} else if (MinutetoFix == 1) { MinuteFixed = "01";} else if (MinutetoFix == 2) { MinuteFixed = "02";} else if (MinutetoFix == 3) { MinuteFixed = "03";} else if (MinutetoFix == 4) { MinuteFixed = "04";} else if (MinutetoFix == 5) { MinuteFixed = "05";} else if (MinutetoFix == 6) { MinuteFixed = "06";} else if (MinutetoFix == 7) { MinuteFixed = "07";} else if (MinutetoFix == 8) { MinuteFixed = "08";} else if (MinutetoFix == 0) { MinuteFixed = "09";} else { MinuteFixed = (new Integer(MinutetoFix)).toString(); }return MinuteFixed;} // END int FixMinutes()// Empty Directory Classpublic boolean emptyDir( File dir ) throws IOException {boolean b = false;String array[] = dir.list();if ( array != null ) {for ( int count = 0; count < array.length; count ++ ) {String temp = array[ count ];File f1 = new File( dir, temp );if ( f1.isFile() ) {b = f1.delete();} else if ( f1.isDirectory() ) {b = this.emptyDir( f1 );b = f1.delete();}}} return b;}// Reads a Cookie into String foundcookie;public String GetCookie( String cookiename, Cookie[] mochoptscookiejar ) {String foundcookie = "";if ( mochoptscookiejar != null ) { for ( int cookiei = 0; cookiei < mochoptscookiejar.length; cookiei++ ) { Cookie mochoptsCookie = mochoptscookiejar[cookiei]; if ( mochoptsCookie.getName().equals(cookiename) ) { foundcookie = mochoptsCookie.getValue(); } else { } }                                                                                                                                                             } else { }return (foundcookie); }// Reads a Filepublic String[] ReadFile( String rdfilename ) throws IOException {String[] mooptsfilearray = new String[ 125 ];int mooptsfilearraysize = 0;String moncoptsrdnextLine = "";try {  BufferedReader moncopts = new BufferedReader(new FileReader(rdfilename));       StringBuffer rawoptsfile = new StringBuffer(); 	while ((moncoptsrdnextLine = moncopts.readLine()) != null) {		mooptsfilearray[mooptsfilearraysize] = moncoptsrdnextLine;		mooptsfilearraysize++;										                 }    moncopts.close();}catch ( IOException e ) { throw new IOException( "<html><head><title></title></head><body bgcolor=\"#000000\" text=\"#000000\" alink=\"#ce9c00\" vlink=\"#ce9c00\" link=\"#dcd816\"><div align=\"center\"><br><img src=\"http://localhost/Images/error.gif\" width=\"36\" height=\"42\" border=\"0\"><br><br><br><font size=\"-2\" face=\"Verdana\" color=\"#FFFFFF\">Error 203.<br><br>Please report this error to us right away.<br><br><b>Specify your configuration and your username</b>.</font></div></body></html>" ); }           return ( mooptsfilearray );}protected String FixChMinutes(int ChMinutetoFix) { String CMinuteFixed;if (ChMinutetoFix == 0) { CMinuteFixed = "00";} else if (ChMinutetoFix == 1) { CMinuteFixed = "01";} else if (ChMinutetoFix == 2) { CMinuteFixed = "02";} else if (ChMinutetoFix == 3) { CMinuteFixed = "03";} else if (ChMinutetoFix == 4) { CMinuteFixed = "04";} else if (ChMinutetoFix == 5) { CMinuteFixed = "05";} else if (ChMinutetoFix == 6) { CMinuteFixed = "06";} else if (ChMinutetoFix == 7) { CMinuteFixed = "07";} else if (ChMinutetoFix == 8) { CMinuteFixed = "08";} else if (ChMinutetoFix == 0) { CMinuteFixed = "09";} else { CMinuteFixed = (new Integer(ChMinutetoFix)).toString(); }return CMinuteFixed;} // END int FixChMinutes()public void LogError( String plrerror, String myscrname ) throws IOException {String errorslog = "data/logs/Errors/";Date errosdte = new Date();int errmon = errosdte.getMonth();int errday = errosdte.getDate();int erryear = errosdte.getYear();int errhour = errosdte.getHours();int errmin = errosdte.getMinutes();int errsec = errosdte.getSeconds();errorslog = errorslog + erryear + "-" + errmon + "-" + errday + " at " + errhour + "H " + errmin + "M " + errsec + "S";PrintWriter errlogslog = new PrintWriter( new FileWriter(errorslog) );errlogslog.println( "<html><head></head><body bgcolor=black text=red><font size=-2 face=Verdana><center><br>Script Name: " + myscrname + "<br>Error: " + plrerror + "</font></center></body></html>");errlogslog.close();}public void LogDeletion( String plrerror, String myscrname ) throws IOException {String pldeletionlog = "data/logs/Player-Deletion/";Date pldeletiondte = new Date();int pldeletionmon = pldeletiondte.getMonth();int pldeletionday = pldeletiondte.getDate();int pldeletionyear = pldeletiondte.getYear();int pldeletionhour = pldeletiondte.getHours();int pldeletionmin = pldeletiondte.getMinutes();int pldeletionsec = pldeletiondte.getSeconds();pldeletionlog = pldeletionlog + pldeletionyear + "-" + pldeletionmon + "-" + pldeletionday + " at " + pldeletionhour + "H " + pldeletionmin + "M " + pldeletionsec + "S";PrintWriter plydeletionlog = new PrintWriter( new FileWriter(pldeletionlog) );plydeletionlog.println( "<html><head></head><body bgcolor=black text=red><font size=-2 face=Verdana><center><br>Character Deleted: " + myscrname + "<br>Character Deletion by Account: " + plrerror + "</font></center></body></html>");plydeletionlog.close();}// DoGet() Method Errorpublic void doGet(HttpServletRequest gcpsreq, HttpServletResponse gcpsres)throws IOException, ServletException{ gcpsres.sendRedirect("http://localhost/inexistent.html"); return; }}